<p>Showcase video:For every web app I work on, a database client is always present for exploring data and building complex queries.<br>Recently, I have moved on from my PgAdmin to org-mode for this purpose, because why not.Org-mode allows executing code snippets and can show results in a nice tabular form.<br>But org-mode isn’t .<br>So it don’t allow arbitrary code execution without our explicit consent.<br>To tell org-mode that it is okay to execute SQL snippets, we need to run following elisp snippet:Org-mode has a number of  which can be used to configure how a particular SQL source-code snippet is executed.<br>Most important ones perhaps are:By default org-mode runs the code snippets in current OS environment.<br>I use this fact to get the ability to run SQL against our postgres database without passing most of the above arguments.<br>Postgres allows setting  variables, which it then use to for making connections by default.<br>In my  file, I setup the required environment variables:With this, only header option left to set is , which I prefer to configure globally for my  since I usually have one database for my personal projects.<br>You can check this  for how I have setup my sql-playground there.<br>Following snippet on top of the sql-playground.org does the trick:Now any SQL snippets that we create can be executed against our development database right within the org file.<br>For example, pressing  in following SQL block produces output shown below that.Building SQL queries is my primary use-case, and org-mode configured so far serves that purpose.<br>But since I am putting all this effort in writing this blog post anyway, I thought let’s go a step further and try configuring LSP mode for SQL snippets in my org file.<br>To my surprise, it is possible.<br> provides an LSP server for SQL files, which once configured can provide certain features like auto-completing table and column names.<br>I have created a  file for  to configure LSP to connect to correct database.This snippet isn’t actually the right way configuring directory local variables, becuase it sets  globally.<br>This is the result of me time-boxing the task of evaluating , so I won’t need to duplicate my database configuration here.LSP for org-mode also need to provide a file to which it can tangle source blocks.<br>So I added another snippet to top of my org file.I can now run  in an SQL block, and 8/10 times it has lsp configured properly.<br>It isn’t flawless though, but that is expected since  is in alpha stage right now.I also tried setting up lsp support in edit buffer for SQL statements (which you get by pressing  in org src blocks), but because of a , that didn’t work out too well.There are 2 main problems I face during my primary use-case.</p>
