<p> How would you build an operating system?My answer is I wouldn’t.<br>First off, I don’t know how.<br>And the second thing is it seems like to large of a task.<br>It took thousands of developers to build Windows XP.But actually, it is possible to build an operating system from scratch.<br>My guest is doing it.<br>Andreas Kling created SerenityOS starting from an empty Git repository.<br>So today, I find out how he did it, how this is possible.<br>But mainly today, I find out why.<br>Why build an operating system from scratch? And it all started in the 2010s when Andreas worked at Apple.
I’m Adam Gordon Bell, and this is CoRecursive.<br>How would you build an operating system? My answer is I wouldn’t.<br>First off, I don’t know how.<br>And the second thing is Googling around, the best estimate seems to be that it took around 2,000 developers to build Windows XP in the 2000s.<br>And that’s just if you can trust random Quora answers.<br>Maybe there was even more people.But actually, it is possible to build an operating system from scratch.<br>I’ve found an existence proof.<br>I’ve found Andreas Kling.<br>He created SerenityOS starting from an empty Git repository.<br>And I’m running it right now, and I’m looking at it.<br>There’s a web browser, and there’s Solitaire.<br>It’s like an alternate world version of the Windows 95 that I grew up using, built from scratch.<br>Really from scratch.<br>It looks totally familiar, but somehow different.So today, I find out how he did it, how this is possible.<br>But mainly today, I find out why.<br>Why build an operating system from scratch? And this answer is about addiction and recovery, and about doing something so big that you can sort of reorient your life around it, and kind of come out the other side as a different person.<br>And it all starts in the 2010s when Andreas worked at Apple.<br>So let’s get into it.
You hear me through your headphones, right?
Mm-hmm (affirmative).
Do you have any questions before we start?
Not really, I guess if my audio is coming through and everything is good on the technical side, then yeah, I’m up for anything.

Waking up really late, partly because it was comfortable, but also because all of my coworkers would wake up in a different time zone anyway.<br>So it all kind of worked out with my morning sleepiness, and then kind of just obsessively working on WebKit and Safari stuff most of the day.<br>Really just sitting at the computer the whole day.<br>I didn’t have a very multifaceted lifestyle back then.<br>It was all work all the time.<br>And when I had a chance to hang out with other people, I would sort of take a break from work by just drinking and doing drugs.<br>Those were the two mode I had.<br>So workaholism or other isms.

So I would just wake up in the morning in San Francisco and get myself to the last Apple commute bus.<br>I was the leaving.<br>I think it was at 10:00 the morning or something like that.<br>Ride it down to Cupertino, spend the day in the office just working on whatever we were doing at the time.<br>Usually some kind of performance optimization stuff or benchmark tracking.<br>And I would almost always stay until the very end of the day.<br>So I would grab the very last commute bus home to San Francisco and then come home at 10:00 PM.It was a fairly intense lifestyle.<br>But at the time, it just seemed like everything I wanted from life.<br>As far as I was concerned, I was living my childhood dream.<br>Right? Because I wanted to be a programmer, and now I was.<br>And I didn’t do anything but, so surely that must be the dream.Obviously I can see now that it was a very single-minded existence, I guess.<br>I guess it felt at times like I was putting everything else in my life on hold and not really advancing on any other axis other than career.<br>But I guess I told myself that I was living the dream, so there was nothing to fulfill.<br>And that’s how I sort of was able to exist in that state for a while.I mean, I loved working there for the years that I did at first.<br>It was just towards the end that I got a bit disillusioned.<br>I certainly enjoyed the technical excellence of the people there and getting to work on such tightly integrated solutions and systems was really cool.

I still feel that nobody really does that better than Apple.<br>They control the whole stack, and they really take advantage of that.<br>Especially lately with putting out their own CPUs and everything now as well.<br>That’s been really awesome.<br>And I enjoyed learning from that environment what is really possible if you control more of the stack.

That was sort of always part of my personality I think.<br>Ever since I was a teenager, I first tried drinking, tried doing drugs.<br>I discovered that I had an endless appetite for them.<br>And when left to my own devices, that’s sort of where I would just naturally drift to.<br>So if there was nothing to keep my attention, I would just end up drinking or end up doing drugs.<br>And I didn’t think too much of it when I was younger because I had this association that it was cool, or that it’s fine, or whatever.<br>Or that it’s not really a problem.<br>I can quit whenever I want, the cliches.<br>And like anybody else, I was totally bought into the cliche of it’s just a casual recreational use, and I can stop whenever.And I think the two things that drove escalation for me was a much larger paycheck after going into big tech, because big tech pays well.<br>And if you have more money, you can buy bigger and more dangerous drugs.<br>And since that was just my natural tendency, that’s something that I started doing.
So what does that mean? Having a drink at lunch, or does that mean keeping cocaine on your desk? I don’t know.
The latter.
Yeah.
Yeah.It was more like that.<br>But there was a time when it was just a drink at lunch as well.<br>So I’ve been through the whole spectrum, but I don’t know if I ever really felt like I was doing anything wrong until I got to the point of no return and realizing that this is an unsustainable problem.<br>But as I was making my way down the train, I never really thought that maybe this isn’t good.<br>It’s very strange how that works.<br>But now of course with the benefit of hindsight, I can see it more clearly.<br>But if you had asked me at the time, I would probably have just insisted that is just a recreational thing.<br>And what’s the big deal?
It almost sounds like you’re keeping things a secret from yourself to a certain extent.
Yeah, for sure.<br>For sure.<br>I think that’s necessary if you are habitually doing things that are hurtful to yourself or to other people.<br>Then the way that you manage sustaining that kind of lifestyle where you habitually hurt people, is that you come up with ways to rationalize it or to turn it into something else, which of course is not true.<br>But you learn to lie to yourself.


I was having an unmanageable problem and I was hurting them.<br>And having to face the fact that I’m not just making a mess of my own life, but it affects others.That was sort of the thing that made me wake up, I guess.<br>Because I think part of what made me able to justify it to myself was that the only one who gets hurt is me.<br>But that’s not really true.<br>That’s never really true, unless you live in complete isolation as a hermit somewhere.<br>You always affect the people around you, but I was kind of oblivious to that until they pointed it out to me.That’s when I really started to see it for the first time, really started thinking critically about it.<br>And it wasn’t easy, and it took a long time to actually unravel.<br>It took a long time to understand how far gone it actually was.
Did you immediately know that you had to change things or were you like, “Maybe a bit less cocaine, and I’ll be all right.”
So I think I had a brief phase of bargaining, I guess, like anybody would.<br>I don’t recall anymore, but it was probably several days where I would just go over the possibilities in my head.<br>Maybe I can just do less, or maybe I can just get better at hiding it, or maybe I can just figure out some way out of this whole thing.<br>But one thing for me was that I had already been hiding these things to the best of my ability.<br>Not just from coworkers, but also from my family.<br>So it was shocking to have this thing that was private suddenly become public, even to my family.<br>I didn’t really know how to deal with that gracefully.<br>So I think I just kind of buckled under the psychological pressure, and I didn’t have the strength to try to come up with a plan to hide it better.

The hospital basically flagged me as a person in trouble.<br>And I live in Sweden.<br>So once you get flagged by the government, then they will stay on your case.<br>They don’t let you slip through the cracks so much.<br>That’s how I ended up in a rehab program.<br>They have a very, very serious social safety net here, and they follow up on stuff.<br>So once that happened, I was sort of in the system, and I knew that now I have to do this.

I was sitting in the hospital, and I had to fill out a form where I consented to drug abuse being a sort of a public entry on my permanent medical record.<br>Because they make you decide do you want your future caregivers to have access to this information?That felt like the real crossroads.Like okay, so now I decide does this become part of my permanent identity, or is this something that I will try to shuffle onto the rug? And I decided then to just make it public.<br>And then I thought all right, well that was easy.<br>And at that point, I decided that the only way that I can do this in a way that I would trust myself would be to make it completely public.So I just told everybody and wanted to sort of make it part of my public identity online as well.<br>But of course that took a bit longer to become comfortable with that idea.

I guess I felt defeated.<br>That is really I guess how all these 12 step programs start where you admit defeat.<br>That is usually the first up that you have to admit defeat, and that you have lost your ability to manage the situation.<br>And that was really how I felt.<br>So I was sort of a perfect candidate for that type of therapy.But that’s not to say that everything was roses.<br>I mean of course now, I remember the good parts.<br>But there were really rough parts as well.<br>And one of the things that we had to do in rehab was to try to share with each other, all the people that were there, we had to share with each other a detailed account of all the things that we had and all the mistakes that we had made, and ways we had hurt people and so on.<br>And that was tough, making an honest accounting of that.<br>And I don’t know if I would make it today.<br>It would probably include more things than I was comfortable admitting to back then.<br>So it’s an incremental process I think.

One of the most helpful aspects of it, which was really hard to reconcile at first, was meeting a whole bunch of people who had done way worse things than I had.<br>And just meeting people who had murdered somebody, people who had been to prison, or people who had done a hit and run or something like that.<br>All kinds of people that you would never think it when you saw them, but they had this horrible things that they had done in the past.<br>And it was all associated with being under the influence.

At first, I felt guilty for sort of looking at them and thinking, “At least I’m not as bad as that person.” Over time, I realized that that’s just sort of a healing mechanism.<br>And it was funny because somebody that I had judged in this way, when I initially met them later, ended up telling me that they were really uncomfortable with me because they felt like I was way worse than they were.<br>They were happy to have met me because I made them feel better about their own misdeeds.<br>It just goes to show that it’s a really big cacophony of just people finding comfort in just hearing about the exploits of other people.<br>And I guess using it to orient themselves around what they really are.Because I think when you do a bunch of nonsense let’s call it, it’s hard to be too judgmental of your own nonsense.<br>But when you see other people doing nonsense, it’s much easier to look at that objectively and say, “Well, that’s not good behavior.” And then when you suddenly encounter a lot of these stories of bad behavior, you start to build almost a sense of morality.<br>Once you have that, it’s much easier to eventually relate your own experiences through that sense of morality.<br>That’s something that we talked a lot about in the rehab program that I went to, how addiction leads to a moral bankruptcy basically.<br>And one of the important things to do in rehab and recovery is to help people build a new sense of morality because you have been taking out loans from their morality bank for too long.<br>And they’re just completely bankrupt, right?

It was really confusing because I was used to waking up at seven and bicycling over to the rehab place.

I was really shocked at first with just how much time there is in a day.<br>Because when you are living in the fast lane so to say, you don’t notice time’s just flying all the time.<br>And normal healthy lifestyle, it’s just a lot of hours in the day.<br>And I really struggled with just coming up with stuff to do.<br>It was a simple existence.I was also trying to get back in touch with family that I had lost contact with a little bit.<br>So I was borrowing handheld video games from my brother for example.<br>And he just gave me this whole bundle of Nintendo DS games.<br>And I found it hard to talk to him because I was so uncomfortable about having had this secret life.<br>But if I could play these games that he lent me, then I could talk to him about those games.<br>And that was sort of a way to start having a conversation again with each other.<br>So I was just going to meetings and then trying to plow through these Nintendo DS games.<br>That was my life at the time.

I had this old PC that I had made for my grandfather back in 2006, I think.<br>And that was the computer I had access to at this house I was staying.<br>So I would wake up and press the power button on that thing, hope it would boot up one more time.<br>And it was really on its last legs.<br>You had to tilt the computer so that the CPU fan would short circuit the motherboard if you tilted it wrong.<br>So you had to tilt it just right.
That’s awesome.
I install an old version of Slackware Linux on that thing, sort of era appropriate.<br>I don’t know, Slackware 11 or whatever from 2006, somewhere thereabouts.<br>And I had this pretty slow machine.<br>And then I guess I would just sit at that computer and write random programs until it was time to go to recovery meetings, and then come back and write more programs.

It was astonishing how much more I could program in a day when I had no distractions.<br>And I was just really clearheaded.<br>And I felt like I was on the precipice of some serious productivity if I just had something to sink it into.<br>That’s sort of when I started tinkering with some of the low level programming projects, which eventually became the Serenity Operating System.<br>But at first, I was really kind of just experimenting with this feeling of being able to program for hours on end and just enjoying programming again, I guess, for the first time in a long time.
I mean, that totally makes sense.<br>But why was the path there, why was building an operating system the therapeutic path to a new you?
Well, I don’t know that I originally saw that.<br>But the thing that made me get into the operating system path in the first place was as a child, I wanted to build my own operating system.<br>When I was 10, 11, 12 at that age.<br>And you can even find old Usenet posts from me as a child asking for help writing like a boot loader when I’m a kid.<br>And totally clueless of course, but-
I don’t know how boot loader works right now.
All right.<br>Well, I guess most people don’t.<br>But yeah, that’s something that I was curious about as a child.<br>And when I came outta rehab, I guess one big thing that I was thinking a lot about was when was the last time that I felt like I was really myself.<br>And I figured it must have been before I got access to alcohol in my life.<br>That was sort of the original Andreas.<br>And to get back to that, I thought okay, well what did I care about before that?And one of the last things I was interested in before is going on this other life path was operating systems.<br>It seemed kind of natural to just give it a go.<br>See okay, what if I tried that again with everything that I’ve learned since then? And I’ve become a capable programmer since then.<br>So what if I just put those skills to use? I have no job.<br>Nobody’s expecting anything from me.<br>I have money to burn for a year.<br>So let’s just go for it and see what happens.<br>And that’s paraphrasing my thought process, but that’s sort of how it happened.It turned out to be very therapeutic.<br>And I think the first thing that made it therapeutic was that it allowed me to actually fill up the entire day with something I found interesting, but seemed well let’s say relatively harmless, right? Compared to what I had been filling my days with for the past decade.<br>There was nobody waiting for me anywhere, which was kind of a luxurious thing, I suppose, when you’re doing something like this.<br>The fact that there’s nobody waiting for you to get back to work.<br>I was just burning through savings at that point.<br>But it seemed like a reasonable thing to do.<br>Certainly in retrospect, I know it was very reasonable.<br>But even at the time, it seemed like if I can get my head in order and maybe build a different type of life, a better life after this, then it doesn’t matter what it costs.<br>I would rather have no money and be completely clearheaded, then have all the money in the world and just be a drugged out zombie for one more day.<br>So that’s what I was doing.

So I rented a summer cabin, which was really cheap because winter was about to start, and moved out to this little summer cabin village.<br>So it was just me in this little cabin, and nobody else was around.
Did it have heat?
It had, what’s it called.<br>I had to burn logs fire.<br>So what is that called? A furnace?
Yeah.<br>Or a stove, a wood stove.
Yeah.<br>Something like that.<br>I had to bring in wood and burn it.
Fireplace?
Fireplace.<br>Yes.<br>It had a fireplace.<br>Thank you.<br>But that was really nice.<br>So then I just rented that cabin and stayed there, just continuing what been doing.<br>But now in a place by myself and just getting back into the groove of having a life where there isn’t somebody who’s watching over me all the time.

In some ways, I recognize that there was a compromise being made here, right? You’re trading one addiction for another.<br>But even the therapist in my rehab program was always telling me that, “If you get addicted to cooking or to hiking, I don’t care.<br>It’s so much better.<br>Go do that.<br>Eventually, you’ll get bored of it and find other things to do.<br>Just don’t get back into the drugs.”So I didn’t worry too much about substituting some really lame addiction.<br>I guess I thought that I’ll just try it for a while as long as it’s fun.<br>Maybe I’ll lose interest and do something else.<br>But turns that I didn’t really lose interest.<br>So it worked out really well.
What were your goals like? Besides just filling out the clock and enjoying this, did you have a direction with your project?
Well, I don’t know that I ever had a real direction with it.<br>But in the beginning, I remember feeling kind of frustrated with finding myself using Linux again and thinking it’s nice to be back on Linux.<br>Everything is snappy.<br>And the developer experience is really great, but I sure do miss having the source code for everything.

And when you’re in that environment, it’s extremely powerful.So the area that I worked on primarily throughout my stay at Apple was web performance stuff.<br>So Safari and WebKit performance, optimizations, performance work.<br>And that type of work usually requires traversing the stack up and down, right?It’s usually not as simple as, “I just have to make this little fix in the WebKit library itself, and everything is faster.” But we’d frequently had to work on stuff like image decoding libraries, and network working libraries, and whatnot.<br>And just the access to all those layers and having the expert of whatever thing you wanted to know about.<br>The expert was always somewhere in the building or in the adjacent building.<br>And that’s an incredibly powerful thing.If you look at open source software systems, there isn’t really anything quite like it in the Linux world for example.<br>People are so distributed.<br>And there are many great advantages to being distributed, but I’ve also seen some really great advantages to being centralized.

I remember so much leaving Apple and still having that feeling of, “I can just go and look in the source code of this thing.” And I was using a MacBook when I left Apple.<br>I remember getting really frustrated when I couldn’t bring up the source code for stuff anymore.<br>Because I had come to take it for granted.<br>Right? I think I had a memory leak in QuickLook or whatever it was.<br>I was previewing something in Finder, and it would just leak memory.<br>And I thought I’m just going to dig into this, see what it is.<br>And I just couldn’t anymore.<br>And now I knew how everybody else felt.That really made me think that it’s silly that I can’t have this feeling about the software that I’m using every day, unless I work at Apple.<br>Because I think it would be cool if everybody could have that feeling about the software they use every day without having to work at Apple.<br>The spirit of taking ownership of the whole stack, Apple doesn’t have a monopoly on that mindset.<br>And it’s definitely something that could be replicated elsewhere.
So that was his goal.<br>Although maybe it was too large to even speak, that he could build something like what Mac OS looked like if you were an Apple developer.<br>Where everything was in one place, and in one style, and easy to change.
I didn’t dare admit it to myself at first because I thought it was almost too grandiose of an idea to try to create an entirely new environment where this exists in open source.<br>I guess I’m a little bit of the belief that if you have a great big idea, the best thing to do is not tell anybody, because it really takes the air out of it.<br>So better to go and try to prototype the idea.<br>And then if something comes out of it, you can show it to people.<br>But at least in my case, whenever I tell people about some idea, I kind of tend to lose interest in the idea.<br>So I just went to work on it instead.
What he’s working on is building an operating system from scratch, literally from scratch starting with a blank file.<br>What many people mean when they talk about operating systems is the kernel, the lowest level part of the operating system, like the Linux kernel.<br>If the software of your computer was a house, the kernel would be like the foundation and maybe the wood framing.<br>Andreas has a much bigger goal in mind though.
As far as I’m concerned, an operating system is all the software that comes with your computer.<br>So macOS is an operating system that comes with a kernel, but also with a web browser, and a text editor, and a note-taking application, and all kinds of stuff.<br>Right? And that’s sort of what I think of as an operating system.<br>Not so much the Linux kernel purist idea that the kernel is the operating system.

Everything is just a piece of code that somebody writes.<br>And if we just make all those pieces of code and stack them up, it’s going to work.<br>I had no illusions about how an operating system looks once it is put together and works.<br>Now I didn’t know how to get there, but I reasoned that if you just start building these components one by one, eventually you’ll have the full stack and it will just gel together.<br>So that’s what I started doing.
How do you learn how to build an operating system?
Well when I started, I had no idea how to do that.<br>So it was a gradual process for me.<br>I always figured that the hardest part would be choosing which abstractions to use.<br>Because once you know what the abstractions are, it’s just a matter of implementing them.So I decided to make it a little bit easy for myself with Serenity to use existing abstractions or well known abstractions like Unix, right? And instead of coming up with an entirely new style of kernel, I just made a classical Unix kernel.<br>Instead of trying to come up with a radical new UI, just used the late ’90s UI.
By late ’90s UI, Andreas specifically means he’s building an operating system that looks like Windows 2000.<br>The Windows 2000 that he used as an 11 year old kid.
Windows 2000 was beautiful.<br>And it knew exactly what it was.<br>And then, everybody got distracted because we had to turn the PC into a gaming machine, into a surfing machine.<br>And it had to become everything.<br>A multimedia entertainment platform.<br>And I had just these positive childhood memories of the really serious office computer.<br>That’s something that I wanted to rebuild I guess.

It’s a modern music genre that takes influence from 1980s synth pop and movie soundtracks like Blade Runner and things like that.<br>And I see this parallel between the genre of synthwave wave and what I’m doing with Serenity in that we are taking all these old ideas, but rebuilding them using modern technology and modern development practices.<br>And it’s so much easier today to build a system that looks and feels like something from the year 2000 than it was back then.<br>Because of course, we have way better stuff today, and we understand much more about software development.Much like with synthwave, it’s so much easier to make a cool synth-pop song today than it was in 1985, because in ‘85 you needed analog synthesizers and all this advanced equipment, right? Or I guess you had digital synthesizers in ‘85, but you had much more crude tools.<br>And in that sense, I think SerenityOS is like synthwave.<br>It’s creating something strongly influenced by the past, but in a modern way, and in a sort of a high fidelity way with 2020 hindsight.

And then when that rental contract ran out, that’s when I made a post on Reddit about, “So I’m moving out of this house, and I just spent the last six months here writing this operating system.<br>And here’s what it looks like.” And had a little demo video of it that I posted on YouTube as well.<br>People were really kind of captivated by the thing I think.<br>Of course looking back now, it’s very simple compared to what it has become.<br>But there was something about it that was really energetic and something new, yet still familiar to everybody.<br>I mean I don’t know.<br>I thought a lot about what is it that makes this so interesting to people? I can never quite figure it out, but people liked it.
One thing I was thinking about is oftentimes, the layers below yourself as a developer seem kind of magical.<br>So for somebody to come along and say, “Here it is.<br>Here’s all of it.” It’s like, “Here, I started at the bottom.” It’s almost like you’re saying, “It’s not magic.<br>Look, here.<br>Did it?”
Yeah.<br>No, that’s true.<br>That’s true.<br>That’s something I heard often from people.<br>It piqued people’s curiosity who wanted to see what a real system might look like, even though it was clearly immature.<br>It was still an approximation of what a mature system might look like.

One of the first things that somebody helped out with was writing a script that would automate the build process.<br>And that was really, really sweet.<br>I was very, very grateful for that.<br>And then since then, it’s just been growing.<br>New people pick this up every week and find something they want to hack on.<br>And I’ve always been welcoming to new people because even if it started as a personal therapy project for me, that doesn’t mean that I don’t want other people to work on it.<br>Right? I’m really happy to share my programming playground with anybody else who wants to write similar type of software.

One of the first videos I put up on YouTube, I had this long struggle trying to print out a number in octal.<br>And it took me a little too long.<br>And I remember just feeling, “This is so embarrassing.<br>Now everybody will see.” And I decided to upload it anyway because I thought, “You know what? This would probably be good for me if I just become okay with people seeing me struggling with something silly.”
It’s interesting because you had a secret life, and then you went to a world of nothing is secret.<br>Was this some sort of conscious decision to be completely out there with this project?
I think so.<br>I even named it after the recovery program I was in.<br>When you go to these 12 step meetings, then you always read the Serenity prayer at the end.<br>The way I was thinking at the time was I need to make something that is so big and beautiful, that I will want to stick around.<br>And I can use that as a tool to keep myself honest.<br>If I just name it something that always recalls where it came from, and I tell everybody where it came from.<br>So I guess I sort of saw it as a chance to build this big monument to my own recovery.<br>And then I could never run away from it.<br>And I would feel like such a hypocrite if I would start using drugs again and working on my Serenity Operating System at the same time.<br>Right? So I sort of get this built-in deterrent from that.
There’s no telling what the future holds, of course.<br>But in rehab, we often talked about how people have this tendency to, if you see an opportunity to build a back door into your life, like an escape hatch for yourself, then if you’re not conscious about those things, then you have a tendency to just build those.<br>So I guess here, I was kind of thinking proactively and trying to build whatever the opposite of a back door is.<br>Maybe build a window into my life instead let’s say.

Unlike most other projects, we are not trying to gain users, or popularity, or anything like that.<br>Each and every person who works on this, they just want to make something for themselves, something beautiful.<br>And I think that gives us almost kind of a purity of purpose that I enjoy.<br>That I always treated it as this is going to take at least 10 years to get anywhere reasonable.<br>And it’s astonishing how much you can do if you take that perspective from the beginning.<br>If you accept that something is going to take a long time, you don’t have to deal with that growing disappointment when you’re not getting to where you want to be immediately.
My very last question is did you recapture this 11 year old version of yourself and that energy that you were looking for?
I think so.<br>I’ve never felt more true to myself than I do lately.<br>I never worry anymore about how I present myself if I’m saying the right thing or if I should try to phrase myself this way or that way.<br>Because I can just speak from the heart, and I know that it comes out how I want it to come out.Most of my life, I was very conscious of everything I would say.<br>And I was always trying to manicure my public persona so that I could obscure how I was living my life.<br>And it is a very good feeling to not do that, and to just sort of speak candidly and honestly about everything and anything.<br>And that’s really how I was like when I was 11.<br>I wasn’t cynical, and I wasn’t trying to hide anything.<br>I was just a kid who loved computers.<br>And I think I became that again.<br>And I’m happy about that.
You can find Andreas on YouTube.<br>Serenity isn’t done, but you can use it.<br>I don’t think it’s the type of project that will ever be complete.<br>If you want to learn how to build an operating system, or systems programming, or modern C++, or just watch hundreds of hours of a calm person working diligently at a project that he thinks might take all his life, you should totally check him out on YouTube.<br>And as you’ve probably gotten a taste of here, his openness and candor speaking about his life is very endearing.<br>So you should check that out.Also, if you want to hear more about his time at Apple and how it was both an amazing experience and a problematic one, and more about the Serenity project and how it can be transformative for people who join, check out the Patreon episode.<br>It’s going to be out on the 15th.<br>Oh yeah.<br>And we didn’t even cover this, but they’re building a full web browser from scratch.<br>I heard someone say that the web standards are so complex right now, that it wouldn’t be possible to build a new web browser.<br>But here, the Serenity team is doing it.<br>And you can watch them.
If you want to hear that and more like it, please support the podcast on Patreon to unlock those episodes.<br>And until next time, thank you so much for listening.
Hello, I make CoRecursive because I love it when someone shares the details behind some project, some bug, or some incident with me.<br>No other podcast was telling stories quite like I wanted to hear.
Right now this is all done by just me and I love doing it, but it's also exhausting.<br>Recommending the show to others and contributing to this patreon are the biggest things you can do to help out.

Whatever you can do to help, I truly appreciate it!
- Adam Gordon Bell
A podcast about building software.<br>How would you build an operating system?My answer is I wouldn’t.<br>First off, I don’t know how.<br>And the second thing is it seems like to large of a task.<br>It took thousands of developers to build Windows XP.But actually, it is possible to build an operating system from scratch.<br>My guest is doing it.<br>Andreas Kling created SerenityOS starting from an empty Git repository.<br>So today, I find out how he did it, how this is possible.<br>But mainly today, I find out why.<br>Why build an operating system from scratch? And it all started in the 2010s when Andreas worked at Apple.
I’m Adam Gordon Bell, and this is CoRecursive.<br>How would you build an operating system? My answer is I wouldn’t.<br>First off, I don’t know how.<br>And the second thing is Googling around, the best estimate seems to be that it took around 2,000 developers to build Windows XP in the 2000s.<br>And that’s just if you can trust random Quora answers.<br>Maybe there was even more people.But actually, it is possible to build an operating system from scratch.<br>I’ve found an existence proof.<br>I’ve found Andreas Kling.<br>He created SerenityOS starting from an empty Git repository.<br>And I’m running it right now, and I’m looking at it.<br>There’s a web browser, and there’s Solitaire.<br>It’s like an alternate world version of the Windows 95 that I grew up using, built from scratch.<br>Really from scratch.<br>It looks totally familiar, but somehow different.So today, I find out how he did it, how this is possible.<br>But mainly today, I find out why.<br>Why build an operating system from scratch? And this answer is about addiction and recovery, and about doing something so big that you can sort of reorient your life around it, and kind of come out the other side as a different person.<br>And it all starts in the 2010s when Andreas worked at Apple.<br>So let’s get into it.
You hear me through your headphones, right?
Mm-hmm (affirmative).
Do you have any questions before we start?
Not really, I guess if my audio is coming through and everything is good on the technical side, then yeah, I’m up for anything.

Waking up really late, partly because it was comfortable, but also because all of my coworkers would wake up in a different time zone anyway.<br>So it all kind of worked out with my morning sleepiness, and then kind of just obsessively working on WebKit and Safari stuff most of the day.<br>Really just sitting at the computer the whole day.<br>I didn’t have a very multifaceted lifestyle back then.<br>It was all work all the time.<br>And when I had a chance to hang out with other people, I would sort of take a break from work by just drinking and doing drugs.<br>Those were the two mode I had.<br>So workaholism or other isms.

So I would just wake up in the morning in San Francisco and get myself to the last Apple commute bus.<br>I was the leaving.<br>I think it was at 10:00 the morning or something like that.<br>Ride it down to Cupertino, spend the day in the office just working on whatever we were doing at the time.<br>Usually some kind of performance optimization stuff or benchmark tracking.<br>And I would almost always stay until the very end of the day.<br>So I would grab the very last commute bus home to San Francisco and then come home at 10:00 PM.It was a fairly intense lifestyle.<br>But at the time, it just seemed like everything I wanted from life.<br>As far as I was concerned, I was living my childhood dream.<br>Right? Because I wanted to be a programmer, and now I was.<br>And I didn’t do anything but, so surely that must be the dream.Obviously I can see now that it was a very single-minded existence, I guess.<br>I guess it felt at times like I was putting everything else in my life on hold and not really advancing on any other axis other than career.<br>But I guess I told myself that I was living the dream, so there was nothing to fulfill.<br>And that’s how I sort of was able to exist in that state for a while.I mean, I loved working there for the years that I did at first.<br>It was just towards the end that I got a bit disillusioned.<br>I certainly enjoyed the technical excellence of the people there and getting to work on such tightly integrated solutions and systems was really cool.

I still feel that nobody really does that better than Apple.<br>They control the whole stack, and they really take advantage of that.<br>Especially lately with putting out their own CPUs and everything now as well.<br>That’s been really awesome.<br>And I enjoyed learning from that environment what is really possible if you control more of the stack.

That was sort of always part of my personality I think.<br>Ever since I was a teenager, I first tried drinking, tried doing drugs.<br>I discovered that I had an endless appetite for them.<br>And when left to my own devices, that’s sort of where I would just naturally drift to.<br>So if there was nothing to keep my attention, I would just end up drinking or end up doing drugs.<br>And I didn’t think too much of it when I was younger because I had this association that it was cool, or that it’s fine, or whatever.<br>Or that it’s not really a problem.<br>I can quit whenever I want, the cliches.<br>And like anybody else, I was totally bought into the cliche of it’s just a casual recreational use, and I can stop whenever.And I think the two things that drove escalation for me was a much larger paycheck after going into big tech, because big tech pays well.<br>And if you have more money, you can buy bigger and more dangerous drugs.<br>And since that was just my natural tendency, that’s something that I started doing.
So what does that mean? Having a drink at lunch, or does that mean keeping cocaine on your desk? I don’t know.
The latter.
Yeah.
Yeah.It was more like that.<br>But there was a time when it was just a drink at lunch as well.<br>So I’ve been through the whole spectrum, but I don’t know if I ever really felt like I was doing anything wrong until I got to the point of no return and realizing that this is an unsustainable problem.<br>But as I was making my way down the train, I never really thought that maybe this isn’t good.<br>It’s very strange how that works.<br>But now of course with the benefit of hindsight, I can see it more clearly.<br>But if you had asked me at the time, I would probably have just insisted that is just a recreational thing.<br>And what’s the big deal?
It almost sounds like you’re keeping things a secret from yourself to a certain extent.
Yeah, for sure.<br>For sure.<br>I think that’s necessary if you are habitually doing things that are hurtful to yourself or to other people.<br>Then the way that you manage sustaining that kind of lifestyle where you habitually hurt people, is that you come up with ways to rationalize it or to turn it into something else, which of course is not true.<br>But you learn to lie to yourself.


I was having an unmanageable problem and I was hurting them.<br>And having to face the fact that I’m not just making a mess of my own life, but it affects others.That was sort of the thing that made me wake up, I guess.<br>Because I think part of what made me able to justify it to myself was that the only one who gets hurt is me.<br>But that’s not really true.<br>That’s never really true, unless you live in complete isolation as a hermit somewhere.<br>You always affect the people around you, but I was kind of oblivious to that until they pointed it out to me.That’s when I really started to see it for the first time, really started thinking critically about it.<br>And it wasn’t easy, and it took a long time to actually unravel.<br>It took a long time to understand how far gone it actually was.
Did you immediately know that you had to change things or were you like, “Maybe a bit less cocaine, and I’ll be all right.”
So I think I had a brief phase of bargaining, I guess, like anybody would.<br>I don’t recall anymore, but it was probably several days where I would just go over the possibilities in my head.<br>Maybe I can just do less, or maybe I can just get better at hiding it, or maybe I can just figure out some way out of this whole thing.<br>But one thing for me was that I had already been hiding these things to the best of my ability.<br>Not just from coworkers, but also from my family.<br>So it was shocking to have this thing that was private suddenly become public, even to my family.<br>I didn’t really know how to deal with that gracefully.<br>So I think I just kind of buckled under the psychological pressure, and I didn’t have the strength to try to come up with a plan to hide it better.

The hospital basically flagged me as a person in trouble.<br>And I live in Sweden.<br>So once you get flagged by the government, then they will stay on your case.<br>They don’t let you slip through the cracks so much.<br>That’s how I ended up in a rehab program.<br>They have a very, very serious social safety net here, and they follow up on stuff.<br>So once that happened, I was sort of in the system, and I knew that now I have to do this.

I was sitting in the hospital, and I had to fill out a form where I consented to drug abuse being a sort of a public entry on my permanent medical record.<br>Because they make you decide do you want your future caregivers to have access to this information?That felt like the real crossroads.Like okay, so now I decide does this become part of my permanent identity, or is this something that I will try to shuffle onto the rug? And I decided then to just make it public.<br>And then I thought all right, well that was easy.<br>And at that point, I decided that the only way that I can do this in a way that I would trust myself would be to make it completely public.So I just told everybody and wanted to sort of make it part of my public identity online as well.<br>But of course that took a bit longer to become comfortable with that idea.

I guess I felt defeated.<br>That is really I guess how all these 12 step programs start where you admit defeat.<br>That is usually the first up that you have to admit defeat, and that you have lost your ability to manage the situation.<br>And that was really how I felt.<br>So I was sort of a perfect candidate for that type of therapy.But that’s not to say that everything was roses.<br>I mean of course now, I remember the good parts.<br>But there were really rough parts as well.<br>And one of the things that we had to do in rehab was to try to share with each other, all the people that were there, we had to share with each other a detailed account of all the things that we had and all the mistakes that we had made, and ways we had hurt people and so on.<br>And that was tough, making an honest accounting of that.<br>And I don’t know if I would make it today.<br>It would probably include more things than I was comfortable admitting to back then.<br>So it’s an incremental process I think.

One of the most helpful aspects of it, which was really hard to reconcile at first, was meeting a whole bunch of people who had done way worse things than I had.<br>And just meeting people who had murdered somebody, people who had been to prison, or people who had done a hit and run or something like that.<br>All kinds of people that you would never think it when you saw them, but they had this horrible things that they had done in the past.<br>And it was all associated with being under the influence.

At first, I felt guilty for sort of looking at them and thinking, “At least I’m not as bad as that person.” Over time, I realized that that’s just sort of a healing mechanism.<br>And it was funny because somebody that I had judged in this way, when I initially met them later, ended up telling me that they were really uncomfortable with me because they felt like I was way worse than they were.<br>They were happy to have met me because I made them feel better about their own misdeeds.<br>It just goes to show that it’s a really big cacophony of just people finding comfort in just hearing about the exploits of other people.<br>And I guess using it to orient themselves around what they really are.Because I think when you do a bunch of nonsense let’s call it, it’s hard to be too judgmental of your own nonsense.<br>But when you see other people doing nonsense, it’s much easier to look at that objectively and say, “Well, that’s not good behavior.” And then when you suddenly encounter a lot of these stories of bad behavior, you start to build almost a sense of morality.<br>Once you have that, it’s much easier to eventually relate your own experiences through that sense of morality.<br>That’s something that we talked a lot about in the rehab program that I went to, how addiction leads to a moral bankruptcy basically.<br>And one of the important things to do in rehab and recovery is to help people build a new sense of morality because you have been taking out loans from their morality bank for too long.<br>And they’re just completely bankrupt, right?

It was really confusing because I was used to waking up at seven and bicycling over to the rehab place.

I was really shocked at first with just how much time there is in a day.<br>Because when you are living in the fast lane so to say, you don’t notice time’s just flying all the time.<br>And normal healthy lifestyle, it’s just a lot of hours in the day.<br>And I really struggled with just coming up with stuff to do.<br>It was a simple existence.I was also trying to get back in touch with family that I had lost contact with a little bit.<br>So I was borrowing handheld video games from my brother for example.<br>And he just gave me this whole bundle of Nintendo DS games.<br>And I found it hard to talk to him because I was so uncomfortable about having had this secret life.<br>But if I could play these games that he lent me, then I could talk to him about those games.<br>And that was sort of a way to start having a conversation again with each other.<br>So I was just going to meetings and then trying to plow through these Nintendo DS games.<br>That was my life at the time.

I had this old PC that I had made for my grandfather back in 2006, I think.<br>And that was the computer I had access to at this house I was staying.<br>So I would wake up and press the power button on that thing, hope it would boot up one more time.<br>And it was really on its last legs.<br>You had to tilt the computer so that the CPU fan would short circuit the motherboard if you tilted it wrong.<br>So you had to tilt it just right.
That’s awesome.
I install an old version of Slackware Linux on that thing, sort of era appropriate.<br>I don’t know, Slackware 11 or whatever from 2006, somewhere thereabouts.<br>And I had this pretty slow machine.<br>And then I guess I would just sit at that computer and write random programs until it was time to go to recovery meetings, and then come back and write more programs.

It was astonishing how much more I could program in a day when I had no distractions.<br>And I was just really clearheaded.<br>And I felt like I was on the precipice of some serious productivity if I just had something to sink it into.<br>That’s sort of when I started tinkering with some of the low level programming projects, which eventually became the Serenity Operating System.<br>But at first, I was really kind of just experimenting with this feeling of being able to program for hours on end and just enjoying programming again, I guess, for the first time in a long time.
I mean, that totally makes sense.<br>But why was the path there, why was building an operating system the therapeutic path to a new you?
Well, I don’t know that I originally saw that.<br>But the thing that made me get into the operating system path in the first place was as a child, I wanted to build my own operating system.<br>When I was 10, 11, 12 at that age.<br>And you can even find old Usenet posts from me as a child asking for help writing like a boot loader when I’m a kid.<br>And totally clueless of course, but-
I don’t know how boot loader works right now.
All right.<br>Well, I guess most people don’t.<br>But yeah, that’s something that I was curious about as a child.<br>And when I came outta rehab, I guess one big thing that I was thinking a lot about was when was the last time that I felt like I was really myself.<br>And I figured it must have been before I got access to alcohol in my life.<br>That was sort of the original Andreas.<br>And to get back to that, I thought okay, well what did I care about before that?And one of the last things I was interested in before is going on this other life path was operating systems.<br>It seemed kind of natural to just give it a go.<br>See okay, what if I tried that again with everything that I’ve learned since then? And I’ve become a capable programmer since then.<br>So what if I just put those skills to use? I have no job.<br>Nobody’s expecting anything from me.<br>I have money to burn for a year.<br>So let’s just go for it and see what happens.<br>And that’s paraphrasing my thought process, but that’s sort of how it happened.It turned out to be very therapeutic.<br>And I think the first thing that made it therapeutic was that it allowed me to actually fill up the entire day with something I found interesting, but seemed well let’s say relatively harmless, right? Compared to what I had been filling my days with for the past decade.<br>There was nobody waiting for me anywhere, which was kind of a luxurious thing, I suppose, when you’re doing something like this.<br>The fact that there’s nobody waiting for you to get back to work.<br>I was just burning through savings at that point.<br>But it seemed like a reasonable thing to do.<br>Certainly in retrospect, I know it was very reasonable.<br>But even at the time, it seemed like if I can get my head in order and maybe build a different type of life, a better life after this, then it doesn’t matter what it costs.<br>I would rather have no money and be completely clearheaded, then have all the money in the world and just be a drugged out zombie for one more day.<br>So that’s what I was doing.

So I rented a summer cabin, which was really cheap because winter was about to start, and moved out to this little summer cabin village.<br>So it was just me in this little cabin, and nobody else was around.
Did it have heat?
It had, what’s it called.<br>I had to burn logs fire.<br>So what is that called? A furnace?
Yeah.<br>Or a stove, a wood stove.
Yeah.<br>Something like that.<br>I had to bring in wood and burn it.
Fireplace?
Fireplace.<br>Yes.<br>It had a fireplace.<br>Thank you.<br>But that was really nice.<br>So then I just rented that cabin and stayed there, just continuing what been doing.<br>But now in a place by myself and just getting back into the groove of having a life where there isn’t somebody who’s watching over me all the time.

In some ways, I recognize that there was a compromise being made here, right? You’re trading one addiction for another.<br>But even the therapist in my rehab program was always telling me that, “If you get addicted to cooking or to hiking, I don’t care.<br>It’s so much better.<br>Go do that.<br>Eventually, you’ll get bored of it and find other things to do.<br>Just don’t get back into the drugs.”So I didn’t worry too much about substituting some really lame addiction.<br>I guess I thought that I’ll just try it for a while as long as it’s fun.<br>Maybe I’ll lose interest and do something else.<br>But turns that I didn’t really lose interest.<br>So it worked out really well.
What were your goals like? Besides just filling out the clock and enjoying this, did you have a direction with your project?
Well, I don’t know that I ever had a real direction with it.<br>But in the beginning, I remember feeling kind of frustrated with finding myself using Linux again and thinking it’s nice to be back on Linux.<br>Everything is snappy.<br>And the developer experience is really great, but I sure do miss having the source code for everything.

And when you’re in that environment, it’s extremely powerful.So the area that I worked on primarily throughout my stay at Apple was web performance stuff.<br>So Safari and WebKit performance, optimizations, performance work.<br>And that type of work usually requires traversing the stack up and down, right?It’s usually not as simple as, “I just have to make this little fix in the WebKit library itself, and everything is faster.” But we’d frequently had to work on stuff like image decoding libraries, and network working libraries, and whatnot.<br>And just the access to all those layers and having the expert of whatever thing you wanted to know about.<br>The expert was always somewhere in the building or in the adjacent building.<br>And that’s an incredibly powerful thing.If you look at open source software systems, there isn’t really anything quite like it in the Linux world for example.<br>People are so distributed.<br>And there are many great advantages to being distributed, but I’ve also seen some really great advantages to being centralized.

I remember so much leaving Apple and still having that feeling of, “I can just go and look in the source code of this thing.” And I was using a MacBook when I left Apple.<br>I remember getting really frustrated when I couldn’t bring up the source code for stuff anymore.<br>Because I had come to take it for granted.<br>Right? I think I had a memory leak in QuickLook or whatever it was.<br>I was previewing something in Finder, and it would just leak memory.<br>And I thought I’m just going to dig into this, see what it is.<br>And I just couldn’t anymore.<br>And now I knew how everybody else felt.That really made me think that it’s silly that I can’t have this feeling about the software that I’m using every day, unless I work at Apple.<br>Because I think it would be cool if everybody could have that feeling about the software they use every day without having to work at Apple.<br>The spirit of taking ownership of the whole stack, Apple doesn’t have a monopoly on that mindset.<br>And it’s definitely something that could be replicated elsewhere.
So that was his goal.<br>Although maybe it was too large to even speak, that he could build something like what Mac OS looked like if you were an Apple developer.<br>Where everything was in one place, and in one style, and easy to change.
I didn’t dare admit it to myself at first because I thought it was almost too grandiose of an idea to try to create an entirely new environment where this exists in open source.<br>I guess I’m a little bit of the belief that if you have a great big idea, the best thing to do is not tell anybody, because it really takes the air out of it.<br>So better to go and try to prototype the idea.<br>And then if something comes out of it, you can show it to people.<br>But at least in my case, whenever I tell people about some idea, I kind of tend to lose interest in the idea.<br>So I just went to work on it instead.
What he’s working on is building an operating system from scratch, literally from scratch starting with a blank file.<br>What many people mean when they talk about operating systems is the kernel, the lowest level part of the operating system, like the Linux kernel.<br>If the software of your computer was a house, the kernel would be like the foundation and maybe the wood framing.<br>Andreas has a much bigger goal in mind though.
As far as I’m concerned, an operating system is all the software that comes with your computer.<br>So macOS is an operating system that comes with a kernel, but also with a web browser, and a text editor, and a note-taking application, and all kinds of stuff.<br>Right? And that’s sort of what I think of as an operating system.<br>Not so much the Linux kernel purist idea that the kernel is the operating system.

Everything is just a piece of code that somebody writes.<br>And if we just make all those pieces of code and stack them up, it’s going to work.<br>I had no illusions about how an operating system looks once it is put together and works.<br>Now I didn’t know how to get there, but I reasoned that if you just start building these components one by one, eventually you’ll have the full stack and it will just gel together.<br>So that’s what I started doing.
How do you learn how to build an operating system?
Well when I started, I had no idea how to do that.<br>So it was a gradual process for me.<br>I always figured that the hardest part would be choosing which abstractions to use.<br>Because once you know what the abstractions are, it’s just a matter of implementing them.So I decided to make it a little bit easy for myself with Serenity to use existing abstractions or well known abstractions like Unix, right? And instead of coming up with an entirely new style of kernel, I just made a classical Unix kernel.<br>Instead of trying to come up with a radical new UI, just used the late ’90s UI.
By late ’90s UI, Andreas specifically means he’s building an operating system that looks like Windows 2000.<br>The Windows 2000 that he used as an 11 year old kid.
Windows 2000 was beautiful.<br>And it knew exactly what it was.<br>And then, everybody got distracted because we had to turn the PC into a gaming machine, into a surfing machine.<br>And it had to become everything.<br>A multimedia entertainment platform.<br>And I had just these positive childhood memories of the really serious office computer.<br>That’s something that I wanted to rebuild I guess.

It’s a modern music genre that takes influence from 1980s synth pop and movie soundtracks like Blade Runner and things like that.<br>And I see this parallel between the genre of synthwave wave and what I’m doing with Serenity in that we are taking all these old ideas, but rebuilding them using modern technology and modern development practices.<br>And it’s so much easier today to build a system that looks and feels like something from the year 2000 than it was back then.<br>Because of course, we have way better stuff today, and we understand much more about software development.Much like with synthwave, it’s so much easier to make a cool synth-pop song today than it was in 1985, because in ‘85 you needed analog synthesizers and all this advanced equipment, right? Or I guess you had digital synthesizers in ‘85, but you had much more crude tools.<br>And in that sense, I think SerenityOS is like synthwave.<br>It’s creating something strongly influenced by the past, but in a modern way, and in a sort of a high fidelity way with 2020 hindsight.

And then when that rental contract ran out, that’s when I made a post on Reddit about, “So I’m moving out of this house, and I just spent the last six months here writing this operating system.<br>And here’s what it looks like.” And had a little demo video of it that I posted on YouTube as well.<br>People were really kind of captivated by the thing I think.<br>Of course looking back now, it’s very simple compared to what it has become.<br>But there was something about it that was really energetic and something new, yet still familiar to everybody.<br>I mean I don’t know.<br>I thought a lot about what is it that makes this so interesting to people? I can never quite figure it out, but people liked it.
One thing I was thinking about is oftentimes, the layers below yourself as a developer seem kind of magical.<br>So for somebody to come along and say, “Here it is.<br>Here’s all of it.” It’s like, “Here, I started at the bottom.” It’s almost like you’re saying, “It’s not magic.<br>Look, here.<br>Did it?”
Yeah.<br>No, that’s true.<br>That’s true.<br>That’s something I heard often from people.<br>It piqued people’s curiosity who wanted to see what a real system might look like, even though it was clearly immature.<br>It was still an approximation of what a mature system might look like.

One of the first things that somebody helped out with was writing a script that would automate the build process.<br>And that was really, really sweet.<br>I was very, very grateful for that.<br>And then since then, it’s just been growing.<br>New people pick this up every week and find something they want to hack on.<br>And I’ve always been welcoming to new people because even if it started as a personal therapy project for me, that doesn’t mean that I don’t want other people to work on it.<br>Right? I’m really happy to share my programming playground with anybody else who wants to write similar type of software.

One of the first videos I put up on YouTube, I had this long struggle trying to print out a number in octal.<br>And it took me a little too long.<br>And I remember just feeling, “This is so embarrassing.<br>Now everybody will see.” And I decided to upload it anyway because I thought, “You know what? This would probably be good for me if I just become okay with people seeing me struggling with something silly.”
It’s interesting because you had a secret life, and then you went to a world of nothing is secret.<br>Was this some sort of conscious decision to be completely out there with this project?
I think so.<br>I even named it after the recovery program I was in.<br>When you go to these 12 step meetings, then you always read the Serenity prayer at the end.<br>The way I was thinking at the time was I need to make something that is so big and beautiful, that I will want to stick around.<br>And I can use that as a tool to keep myself honest.<br>If I just name it something that always recalls where it came from, and I tell everybody where it came from.<br>So I guess I sort of saw it as a chance to build this big monument to my own recovery.<br>And then I could never run away from it.<br>And I would feel like such a hypocrite if I would start using drugs again and working on my Serenity Operating System at the same time.<br>Right? So I sort of get this built-in deterrent from that.
There’s no telling what the future holds, of course.<br>But in rehab, we often talked about how people have this tendency to, if you see an opportunity to build a back door into your life, like an escape hatch for yourself, then if you’re not conscious about those things, then you have a tendency to just build those.<br>So I guess here, I was kind of thinking proactively and trying to build whatever the opposite of a back door is.<br>Maybe build a window into my life instead let’s say.

Unlike most other projects, we are not trying to gain users, or popularity, or anything like that.<br>Each and every person who works on this, they just want to make something for themselves, something beautiful.<br>And I think that gives us almost kind of a purity of purpose that I enjoy.<br>That I always treated it as this is going to take at least 10 years to get anywhere reasonable.<br>And it’s astonishing how much you can do if you take that perspective from the beginning.<br>If you accept that something is going to take a long time, you don’t have to deal with that growing disappointment when you’re not getting to where you want to be immediately.
My very last question is did you recapture this 11 year old version of yourself and that energy that you were looking for?
I think so.<br>I’ve never felt more true to myself than I do lately.<br>I never worry anymore about how I present myself if I’m saying the right thing or if I should try to phrase myself this way or that way.<br>Because I can just speak from the heart, and I know that it comes out how I want it to come out.Most of my life, I was very conscious of everything I would say.<br>And I was always trying to manicure my public persona so that I could obscure how I was living my life.<br>And it is a very good feeling to not do that, and to just sort of speak candidly and honestly about everything and anything.<br>And that’s really how I was like when I was 11.<br>I wasn’t cynical, and I wasn’t trying to hide anything.<br>I was just a kid who loved computers.<br>And I think I became that again.<br>And I’m happy about that.
You can find Andreas on YouTube.<br>Serenity isn’t done, but you can use it.<br>I don’t think it’s the type of project that will ever be complete.<br>If you want to learn how to build an operating system, or systems programming, or modern C++, or just watch hundreds of hours of a calm person working diligently at a project that he thinks might take all his life, you should totally check him out on YouTube.<br>And as you’ve probably gotten a taste of here, his openness and candor speaking about his life is very endearing.<br>So you should check that out.Also, if you want to hear more about his time at Apple and how it was both an amazing experience and a problematic one, and more about the Serenity project and how it can be transformative for people who join, check out the Patreon episode.<br>It’s going to be out on the 15th.<br>Oh yeah.<br>And we didn’t even cover this, but they’re building a full web browser from scratch.<br>I heard someone say that the web standards are so complex right now, that it wouldn’t be possible to build a new web browser.<br>But here, the Serenity team is doing it.<br>And you can watch them.
If you want to hear that and more like it, please support the podcast on Patreon to unlock those episodes.<br>And until next time, thank you so much for listening.
Hello, I make CoRecursive because I love it when someone shares the details behind some project, some bug, or some incident with me.<br>No other podcast was telling stories quite like I wanted to hear.
Right now this is all done by just me and I love doing it, but it's also exhausting.<br>Recommending the show to others and contributing to this patreon are the biggest things you can do to help out.

Whatever you can do to help, I truly appreciate it!
- Adam Gordon Bell
A podcast about building software.<br>How would you build an operating system?My answer is I wouldn’t.<br>First off, I don’t know how.<br>And the second thing is it seems like to large of a task.<br>It took thousands of developers to build Windows XP.But actually, it is possible to build an operating system from scratch.<br>My guest is doing it.<br>Andreas Kling created SerenityOS starting from an empty Git repository.<br>So today, I find out how he did it, how this is possible.<br>But mainly today, I find out why.<br>Why build an operating system from scratch? And it all started in the 2010s when Andreas worked at Apple.
I’m Adam Gordon Bell, and this is CoRecursive.<br>How would you build an operating system? My answer is I wouldn’t.<br>First off, I don’t know how.<br>And the second thing is Googling around, the best estimate seems to be that it took around 2,000 developers to build Windows XP in the 2000s.<br>And that’s just if you can trust random Quora answers.<br>Maybe there was even more people.But actually, it is possible to build an operating system from scratch.<br>I’ve found an existence proof.<br>I’ve found Andreas Kling.<br>He created SerenityOS starting from an empty Git repository.<br>And I’m running it right now, and I’m looking at it.<br>There’s a web browser, and there’s Solitaire.<br>It’s like an alternate world version of the Windows 95 that I grew up using, built from scratch.<br>Really from scratch.<br>It looks totally familiar, but somehow different.So today, I find out how he did it, how this is possible.<br>But mainly today, I find out why.<br>Why build an operating system from scratch? And this answer is about addiction and recovery, and about doing something so big that you can sort of reorient your life around it, and kind of come out the other side as a different person.<br>And it all starts in the 2010s when Andreas worked at Apple.<br>So let’s get into it.
You hear me through your headphones, right?
Mm-hmm (affirmative).
Do you have any questions before we start?
Not really, I guess if my audio is coming through and everything is good on the technical side, then yeah, I’m up for anything.

Waking up really late, partly because it was comfortable, but also because all of my coworkers would wake up in a different time zone anyway.<br>So it all kind of worked out with my morning sleepiness, and then kind of just obsessively working on WebKit and Safari stuff most of the day.<br>Really just sitting at the computer the whole day.<br>I didn’t have a very multifaceted lifestyle back then.<br>It was all work all the time.<br>And when I had a chance to hang out with other people, I would sort of take a break from work by just drinking and doing drugs.<br>Those were the two mode I had.<br>So workaholism or other isms.

So I would just wake up in the morning in San Francisco and get myself to the last Apple commute bus.<br>I was the leaving.<br>I think it was at 10:00 the morning or something like that.<br>Ride it down to Cupertino, spend the day in the office just working on whatever we were doing at the time.<br>Usually some kind of performance optimization stuff or benchmark tracking.<br>And I would almost always stay until the very end of the day.<br>So I would grab the very last commute bus home to San Francisco and then come home at 10:00 PM.It was a fairly intense lifestyle.<br>But at the time, it just seemed like everything I wanted from life.<br>As far as I was concerned, I was living my childhood dream.<br>Right? Because I wanted to be a programmer, and now I was.<br>And I didn’t do anything but, so surely that must be the dream.Obviously I can see now that it was a very single-minded existence, I guess.<br>I guess it felt at times like I was putting everything else in my life on hold and not really advancing on any other axis other than career.<br>But I guess I told myself that I was living the dream, so there was nothing to fulfill.<br>And that’s how I sort of was able to exist in that state for a while.I mean, I loved working there for the years that I did at first.<br>It was just towards the end that I got a bit disillusioned.<br>I certainly enjoyed the technical excellence of the people there and getting to work on such tightly integrated solutions and systems was really cool.

I still feel that nobody really does that better than Apple.<br>They control the whole stack, and they really take advantage of that.<br>Especially lately with putting out their own CPUs and everything now as well.<br>That’s been really awesome.<br>And I enjoyed learning from that environment what is really possible if you control more of the stack.

That was sort of always part of my personality I think.<br>Ever since I was a teenager, I first tried drinking, tried doing drugs.<br>I discovered that I had an endless appetite for them.<br>And when left to my own devices, that’s sort of where I would just naturally drift to.<br>So if there was nothing to keep my attention, I would just end up drinking or end up doing drugs.<br>And I didn’t think too much of it when I was younger because I had this association that it was cool, or that it’s fine, or whatever.<br>Or that it’s not really a problem.<br>I can quit whenever I want, the cliches.<br>And like anybody else, I was totally bought into the cliche of it’s just a casual recreational use, and I can stop whenever.And I think the two things that drove escalation for me was a much larger paycheck after going into big tech, because big tech pays well.<br>And if you have more money, you can buy bigger and more dangerous drugs.<br>And since that was just my natural tendency, that’s something that I started doing.
So what does that mean? Having a drink at lunch, or does that mean keeping cocaine on your desk? I don’t know.
The latter.
Yeah.
Yeah.It was more like that.<br>But there was a time when it was just a drink at lunch as well.<br>So I’ve been through the whole spectrum, but I don’t know if I ever really felt like I was doing anything wrong until I got to the point of no return and realizing that this is an unsustainable problem.<br>But as I was making my way down the train, I never really thought that maybe this isn’t good.<br>It’s very strange how that works.<br>But now of course with the benefit of hindsight, I can see it more clearly.<br>But if you had asked me at the time, I would probably have just insisted that is just a recreational thing.<br>And what’s the big deal?
It almost sounds like you’re keeping things a secret from yourself to a certain extent.
Yeah, for sure.<br>For sure.<br>I think that’s necessary if you are habitually doing things that are hurtful to yourself or to other people.<br>Then the way that you manage sustaining that kind of lifestyle where you habitually hurt people, is that you come up with ways to rationalize it or to turn it into something else, which of course is not true.<br>But you learn to lie to yourself.


I was having an unmanageable problem and I was hurting them.<br>And having to face the fact that I’m not just making a mess of my own life, but it affects others.That was sort of the thing that made me wake up, I guess.<br>Because I think part of what made me able to justify it to myself was that the only one who gets hurt is me.<br>But that’s not really true.<br>That’s never really true, unless you live in complete isolation as a hermit somewhere.<br>You always affect the people around you, but I was kind of oblivious to that until they pointed it out to me.That’s when I really started to see it for the first time, really started thinking critically about it.<br>And it wasn’t easy, and it took a long time to actually unravel.<br>It took a long time to understand how far gone it actually was.
Did you immediately know that you had to change things or were you like, “Maybe a bit less cocaine, and I’ll be all right.”
So I think I had a brief phase of bargaining, I guess, like anybody would.<br>I don’t recall anymore, but it was probably several days where I would just go over the possibilities in my head.<br>Maybe I can just do less, or maybe I can just get better at hiding it, or maybe I can just figure out some way out of this whole thing.<br>But one thing for me was that I had already been hiding these things to the best of my ability.<br>Not just from coworkers, but also from my family.<br>So it was shocking to have this thing that was private suddenly become public, even to my family.<br>I didn’t really know how to deal with that gracefully.<br>So I think I just kind of buckled under the psychological pressure, and I didn’t have the strength to try to come up with a plan to hide it better.

The hospital basically flagged me as a person in trouble.<br>And I live in Sweden.<br>So once you get flagged by the government, then they will stay on your case.<br>They don’t let you slip through the cracks so much.<br>That’s how I ended up in a rehab program.<br>They have a very, very serious social safety net here, and they follow up on stuff.<br>So once that happened, I was sort of in the system, and I knew that now I have to do this.

I was sitting in the hospital, and I had to fill out a form where I consented to drug abuse being a sort of a public entry on my permanent medical record.<br>Because they make you decide do you want your future caregivers to have access to this information?That felt like the real crossroads.Like okay, so now I decide does this become part of my permanent identity, or is this something that I will try to shuffle onto the rug? And I decided then to just make it public.<br>And then I thought all right, well that was easy.<br>And at that point, I decided that the only way that I can do this in a way that I would trust myself would be to make it completely public.So I just told everybody and wanted to sort of make it part of my public identity online as well.<br>But of course that took a bit longer to become comfortable with that idea.

I guess I felt defeated.<br>That is really I guess how all these 12 step programs start where you admit defeat.<br>That is usually the first up that you have to admit defeat, and that you have lost your ability to manage the situation.<br>And that was really how I felt.<br>So I was sort of a perfect candidate for that type of therapy.But that’s not to say that everything was roses.<br>I mean of course now, I remember the good parts.<br>But there were really rough parts as well.<br>And one of the things that we had to do in rehab was to try to share with each other, all the people that were there, we had to share with each other a detailed account of all the things that we had and all the mistakes that we had made, and ways we had hurt people and so on.<br>And that was tough, making an honest accounting of that.<br>And I don’t know if I would make it today.<br>It would probably include more things than I was comfortable admitting to back then.<br>So it’s an incremental process I think.

One of the most helpful aspects of it, which was really hard to reconcile at first, was meeting a whole bunch of people who had done way worse things than I had.<br>And just meeting people who had murdered somebody, people who had been to prison, or people who had done a hit and run or something like that.<br>All kinds of people that you would never think it when you saw them, but they had this horrible things that they had done in the past.<br>And it was all associated with being under the influence.

At first, I felt guilty for sort of looking at them and thinking, “At least I’m not as bad as that person.” Over time, I realized that that’s just sort of a healing mechanism.<br>And it was funny because somebody that I had judged in this way, when I initially met them later, ended up telling me that they were really uncomfortable with me because they felt like I was way worse than they were.<br>They were happy to have met me because I made them feel better about their own misdeeds.<br>It just goes to show that it’s a really big cacophony of just people finding comfort in just hearing about the exploits of other people.<br>And I guess using it to orient themselves around what they really are.Because I think when you do a bunch of nonsense let’s call it, it’s hard to be too judgmental of your own nonsense.<br>But when you see other people doing nonsense, it’s much easier to look at that objectively and say, “Well, that’s not good behavior.” And then when you suddenly encounter a lot of these stories of bad behavior, you start to build almost a sense of morality.<br>Once you have that, it’s much easier to eventually relate your own experiences through that sense of morality.<br>That’s something that we talked a lot about in the rehab program that I went to, how addiction leads to a moral bankruptcy basically.<br>And one of the important things to do in rehab and recovery is to help people build a new sense of morality because you have been taking out loans from their morality bank for too long.<br>And they’re just completely bankrupt, right?

It was really confusing because I was used to waking up at seven and bicycling over to the rehab place.

I was really shocked at first with just how much time there is in a day.<br>Because when you are living in the fast lane so to say, you don’t notice time’s just flying all the time.<br>And normal healthy lifestyle, it’s just a lot of hours in the day.<br>And I really struggled with just coming up with stuff to do.<br>It was a simple existence.I was also trying to get back in touch with family that I had lost contact with a little bit.<br>So I was borrowing handheld video games from my brother for example.<br>And he just gave me this whole bundle of Nintendo DS games.<br>And I found it hard to talk to him because I was so uncomfortable about having had this secret life.<br>But if I could play these games that he lent me, then I could talk to him about those games.<br>And that was sort of a way to start having a conversation again with each other.<br>So I was just going to meetings and then trying to plow through these Nintendo DS games.<br>That was my life at the time.

I had this old PC that I had made for my grandfather back in 2006, I think.<br>And that was the computer I had access to at this house I was staying.<br>So I would wake up and press the power button on that thing, hope it would boot up one more time.<br>And it was really on its last legs.<br>You had to tilt the computer so that the CPU fan would short circuit the motherboard if you tilted it wrong.<br>So you had to tilt it just right.
That’s awesome.
I install an old version of Slackware Linux on that thing, sort of era appropriate.<br>I don’t know, Slackware 11 or whatever from 2006, somewhere thereabouts.<br>And I had this pretty slow machine.<br>And then I guess I would just sit at that computer and write random programs until it was time to go to recovery meetings, and then come back and write more programs.

It was astonishing how much more I could program in a day when I had no distractions.<br>And I was just really clearheaded.<br>And I felt like I was on the precipice of some serious productivity if I just had something to sink it into.<br>That’s sort of when I started tinkering with some of the low level programming projects, which eventually became the Serenity Operating System.<br>But at first, I was really kind of just experimenting with this feeling of being able to program for hours on end and just enjoying programming again, I guess, for the first time in a long time.
I mean, that totally makes sense.<br>But why was the path there, why was building an operating system the therapeutic path to a new you?
Well, I don’t know that I originally saw that.<br>But the thing that made me get into the operating system path in the first place was as a child, I wanted to build my own operating system.<br>When I was 10, 11, 12 at that age.<br>And you can even find old Usenet posts from me as a child asking for help writing like a boot loader when I’m a kid.<br>And totally clueless of course, but-
I don’t know how boot loader works right now.
All right.<br>Well, I guess most people don’t.<br>But yeah, that’s something that I was curious about as a child.<br>And when I came outta rehab, I guess one big thing that I was thinking a lot about was when was the last time that I felt like I was really myself.<br>And I figured it must have been before I got access to alcohol in my life.<br>That was sort of the original Andreas.<br>And to get back to that, I thought okay, well what did I care about before that?And one of the last things I was interested in before is going on this other life path was operating systems.<br>It seemed kind of natural to just give it a go.<br>See okay, what if I tried that again with everything that I’ve learned since then? And I’ve become a capable programmer since then.<br>So what if I just put those skills to use? I have no job.<br>Nobody’s expecting anything from me.<br>I have money to burn for a year.<br>So let’s just go for it and see what happens.<br>And that’s paraphrasing my thought process, but that’s sort of how it happened.It turned out to be very therapeutic.<br>And I think the first thing that made it therapeutic was that it allowed me to actually fill up the entire day with something I found interesting, but seemed well let’s say relatively harmless, right? Compared to what I had been filling my days with for the past decade.<br>There was nobody waiting for me anywhere, which was kind of a luxurious thing, I suppose, when you’re doing something like this.<br>The fact that there’s nobody waiting for you to get back to work.<br>I was just burning through savings at that point.<br>But it seemed like a reasonable thing to do.<br>Certainly in retrospect, I know it was very reasonable.<br>But even at the time, it seemed like if I can get my head in order and maybe build a different type of life, a better life after this, then it doesn’t matter what it costs.<br>I would rather have no money and be completely clearheaded, then have all the money in the world and just be a drugged out zombie for one more day.<br>So that’s what I was doing.

So I rented a summer cabin, which was really cheap because winter was about to start, and moved out to this little summer cabin village.<br>So it was just me in this little cabin, and nobody else was around.
Did it have heat?
It had, what’s it called.<br>I had to burn logs fire.<br>So what is that called? A furnace?
Yeah.<br>Or a stove, a wood stove.
Yeah.<br>Something like that.<br>I had to bring in wood and burn it.
Fireplace?
Fireplace.<br>Yes.<br>It had a fireplace.<br>Thank you.<br>But that was really nice.<br>So then I just rented that cabin and stayed there, just continuing what been doing.<br>But now in a place by myself and just getting back into the groove of having a life where there isn’t somebody who’s watching over me all the time.

In some ways, I recognize that there was a compromise being made here, right? You’re trading one addiction for another.<br>But even the therapist in my rehab program was always telling me that, “If you get addicted to cooking or to hiking, I don’t care.<br>It’s so much better.<br>Go do that.<br>Eventually, you’ll get bored of it and find other things to do.<br>Just don’t get back into the drugs.”So I didn’t worry too much about substituting some really lame addiction.<br>I guess I thought that I’ll just try it for a while as long as it’s fun.<br>Maybe I’ll lose interest and do something else.<br>But turns that I didn’t really lose interest.<br>So it worked out really well.
What were your goals like? Besides just filling out the clock and enjoying this, did you have a direction with your project?
Well, I don’t know that I ever had a real direction with it.<br>But in the beginning, I remember feeling kind of frustrated with finding myself using Linux again and thinking it’s nice to be back on Linux.<br>Everything is snappy.<br>And the developer experience is really great, but I sure do miss having the source code for everything.

And when you’re in that environment, it’s extremely powerful.So the area that I worked on primarily throughout my stay at Apple was web performance stuff.<br>So Safari and WebKit performance, optimizations, performance work.<br>And that type of work usually requires traversing the stack up and down, right?It’s usually not as simple as, “I just have to make this little fix in the WebKit library itself, and everything is faster.” But we’d frequently had to work on stuff like image decoding libraries, and network working libraries, and whatnot.<br>And just the access to all those layers and having the expert of whatever thing you wanted to know about.<br>The expert was always somewhere in the building or in the adjacent building.<br>And that’s an incredibly powerful thing.If you look at open source software systems, there isn’t really anything quite like it in the Linux world for example.<br>People are so distributed.<br>And there are many great advantages to being distributed, but I’ve also seen some really great advantages to being centralized.

I remember so much leaving Apple and still having that feeling of, “I can just go and look in the source code of this thing.” And I was using a MacBook when I left Apple.<br>I remember getting really frustrated when I couldn’t bring up the source code for stuff anymore.<br>Because I had come to take it for granted.<br>Right? I think I had a memory leak in QuickLook or whatever it was.<br>I was previewing something in Finder, and it would just leak memory.<br>And I thought I’m just going to dig into this, see what it is.<br>And I just couldn’t anymore.<br>And now I knew how everybody else felt.That really made me think that it’s silly that I can’t have this feeling about the software that I’m using every day, unless I work at Apple.<br>Because I think it would be cool if everybody could have that feeling about the software they use every day without having to work at Apple.<br>The spirit of taking ownership of the whole stack, Apple doesn’t have a monopoly on that mindset.<br>And it’s definitely something that could be replicated elsewhere.
So that was his goal.<br>Although maybe it was too large to even speak, that he could build something like what Mac OS looked like if you were an Apple developer.<br>Where everything was in one place, and in one style, and easy to change.
I didn’t dare admit it to myself at first because I thought it was almost too grandiose of an idea to try to create an entirely new environment where this exists in open source.<br>I guess I’m a little bit of the belief that if you have a great big idea, the best thing to do is not tell anybody, because it really takes the air out of it.<br>So better to go and try to prototype the idea.<br>And then if something comes out of it, you can show it to people.<br>But at least in my case, whenever I tell people about some idea, I kind of tend to lose interest in the idea.<br>So I just went to work on it instead.
What he’s working on is building an operating system from scratch, literally from scratch starting with a blank file.<br>What many people mean when they talk about operating systems is the kernel, the lowest level part of the operating system, like the Linux kernel.<br>If the software of your computer was a house, the kernel would be like the foundation and maybe the wood framing.<br>Andreas has a much bigger goal in mind though.
As far as I’m concerned, an operating system is all the software that comes with your computer.<br>So macOS is an operating system that comes with a kernel, but also with a web browser, and a text editor, and a note-taking application, and all kinds of stuff.<br>Right? And that’s sort of what I think of as an operating system.<br>Not so much the Linux kernel purist idea that the kernel is the operating system.

Everything is just a piece of code that somebody writes.<br>And if we just make all those pieces of code and stack them up, it’s going to work.<br>I had no illusions about how an operating system looks once it is put together and works.<br>Now I didn’t know how to get there, but I reasoned that if you just start building these components one by one, eventually you’ll have the full stack and it will just gel together.<br>So that’s what I started doing.
How do you learn how to build an operating system?
Well when I started, I had no idea how to do that.<br>So it was a gradual process for me.<br>I always figured that the hardest part would be choosing which abstractions to use.<br>Because once you know what the abstractions are, it’s just a matter of implementing them.So I decided to make it a little bit easy for myself with Serenity to use existing abstractions or well known abstractions like Unix, right? And instead of coming up with an entirely new style of kernel, I just made a classical Unix kernel.<br>Instead of trying to come up with a radical new UI, just used the late ’90s UI.
By late ’90s UI, Andreas specifically means he’s building an operating system that looks like Windows 2000.<br>The Windows 2000 that he used as an 11 year old kid.
Windows 2000 was beautiful.<br>And it knew exactly what it was.<br>And then, everybody got distracted because we had to turn the PC into a gaming machine, into a surfing machine.<br>And it had to become everything.<br>A multimedia entertainment platform.<br>And I had just these positive childhood memories of the really serious office computer.<br>That’s something that I wanted to rebuild I guess.

It’s a modern music genre that takes influence from 1980s synth pop and movie soundtracks like Blade Runner and things like that.<br>And I see this parallel between the genre of synthwave wave and what I’m doing with Serenity in that we are taking all these old ideas, but rebuilding them using modern technology and modern development practices.<br>And it’s so much easier today to build a system that looks and feels like something from the year 2000 than it was back then.<br>Because of course, we have way better stuff today, and we understand much more about software development.Much like with synthwave, it’s so much easier to make a cool synth-pop song today than it was in 1985, because in ‘85 you needed analog synthesizers and all this advanced equipment, right? Or I guess you had digital synthesizers in ‘85, but you had much more crude tools.<br>And in that sense, I think SerenityOS is like synthwave.<br>It’s creating something strongly influenced by the past, but in a modern way, and in a sort of a high fidelity way with 2020 hindsight.

And then when that rental contract ran out, that’s when I made a post on Reddit about, “So I’m moving out of this house, and I just spent the last six months here writing this operating system.<br>And here’s what it looks like.” And had a little demo video of it that I posted on YouTube as well.<br>People were really kind of captivated by the thing I think.<br>Of course looking back now, it’s very simple compared to what it has become.<br>But there was something about it that was really energetic and something new, yet still familiar to everybody.<br>I mean I don’t know.<br>I thought a lot about what is it that makes this so interesting to people? I can never quite figure it out, but people liked it.
One thing I was thinking about is oftentimes, the layers below yourself as a developer seem kind of magical.<br>So for somebody to come along and say, “Here it is.<br>Here’s all of it.” It’s like, “Here, I started at the bottom.” It’s almost like you’re saying, “It’s not magic.<br>Look, here.<br>Did it?”
Yeah.<br>No, that’s true.<br>That’s true.<br>That’s something I heard often from people.<br>It piqued people’s curiosity who wanted to see what a real system might look like, even though it was clearly immature.<br>It was still an approximation of what a mature system might look like.

One of the first things that somebody helped out with was writing a script that would automate the build process.<br>And that was really, really sweet.<br>I was very, very grateful for that.<br>And then since then, it’s just been growing.<br>New people pick this up every week and find something they want to hack on.<br>And I’ve always been welcoming to new people because even if it started as a personal therapy project for me, that doesn’t mean that I don’t want other people to work on it.<br>Right? I’m really happy to share my programming playground with anybody else who wants to write similar type of software.

One of the first videos I put up on YouTube, I had this long struggle trying to print out a number in octal.<br>And it took me a little too long.<br>And I remember just feeling, “This is so embarrassing.<br>Now everybody will see.” And I decided to upload it anyway because I thought, “You know what? This would probably be good for me if I just become okay with people seeing me struggling with something silly.”
It’s interesting because you had a secret life, and then you went to a world of nothing is secret.<br>Was this some sort of conscious decision to be completely out there with this project?
I think so.<br>I even named it after the recovery program I was in.<br>When you go to these 12 step meetings, then you always read the Serenity prayer at the end.<br>The way I was thinking at the time was I need to make something that is so big and beautiful, that I will want to stick around.<br>And I can use that as a tool to keep myself honest.<br>If I just name it something that always recalls where it came from, and I tell everybody where it came from.<br>So I guess I sort of saw it as a chance to build this big monument to my own recovery.<br>And then I could never run away from it.<br>And I would feel like such a hypocrite if I would start using drugs again and working on my Serenity Operating System at the same time.<br>Right? So I sort of get this built-in deterrent from that.
There’s no telling what the future holds, of course.<br>But in rehab, we often talked about how people have this tendency to, if you see an opportunity to build a back door into your life, like an escape hatch for yourself, then if you’re not conscious about those things, then you have a tendency to just build those.<br>So I guess here, I was kind of thinking proactively and trying to build whatever the opposite of a back door is.<br>Maybe build a window into my life instead let’s say.

Unlike most other projects, we are not trying to gain users, or popularity, or anything like that.<br>Each and every person who works on this, they just want to make something for themselves, something beautiful.<br>And I think that gives us almost kind of a purity of purpose that I enjoy.<br>That I always treated it as this is going to take at least 10 years to get anywhere reasonable.<br>And it’s astonishing how much you can do if you take that perspective from the beginning.<br>If you accept that something is going to take a long time, you don’t have to deal with that growing disappointment when you’re not getting to where you want to be immediately.
My very last question is did you recapture this 11 year old version of yourself and that energy that you were looking for?
I think so.<br>I’ve never felt more true to myself than I do lately.<br>I never worry anymore about how I present myself if I’m saying the right thing or if I should try to phrase myself this way or that way.<br>Because I can just speak from the heart, and I know that it comes out how I want it to come out.Most of my life, I was very conscious of everything I would say.<br>And I was always trying to manicure my public persona so that I could obscure how I was living my life.<br>And it is a very good feeling to not do that, and to just sort of speak candidly and honestly about everything and anything.<br>And that’s really how I was like when I was 11.<br>I wasn’t cynical, and I wasn’t trying to hide anything.<br>I was just a kid who loved computers.<br>And I think I became that again.<br>And I’m happy about that.
You can find Andreas on YouTube.<br>Serenity isn’t done, but you can use it.<br>I don’t think it’s the type of project that will ever be complete.<br>If you want to learn how to build an operating system, or systems programming, or modern C++, or just watch hundreds of hours of a calm person working diligently at a project that he thinks might take all his life, you should totally check him out on YouTube.<br>And as you’ve probably gotten a taste of here, his openness and candor speaking about his life is very endearing.<br>So you should check that out.Also, if you want to hear more about his time at Apple and how it was both an amazing experience and a problematic one, and more about the Serenity project and how it can be transformative for people who join, check out the Patreon episode.<br>It’s going to be out on the 15th.<br>Oh yeah.<br>And we didn’t even cover this, but they’re building a full web browser from scratch.<br>I heard someone say that the web standards are so complex right now, that it wouldn’t be possible to build a new web browser.<br>But here, the Serenity team is doing it.<br>And you can watch them.
If you want to hear that and more like it, please support the podcast on Patreon to unlock those episodes.<br>And until next time, thank you so much for listening.
Hello, I make CoRecursive because I love it when someone shares the details behind some project, some bug, or some incident with me.<br>No other podcast was telling stories quite like I wanted to hear.
Right now this is all done by just me and I love doing it, but it's also exhausting.<br>Recommending the show to others and contributing to this patreon are the biggest things you can do to help out.

Whatever you can do to help, I truly appreciate it!
- Adam Gordon Bell
A podcast about building software.<br>How would you build an operating system?My answer is I wouldn’t.<br>First off, I don’t know how.<br>And the second thing is it seems like to large of a task.<br>It took thousands of developers to build Windows XP.But actually, it is possible to build an operating system from scratch.<br>My guest is doing it.<br>Andreas Kling created SerenityOS starting from an empty Git repository.<br>So today, I find out how he did it, how this is possible.<br>But mainly today, I find out why.<br>Why build an operating system from scratch? And it all started in the 2010s when Andreas worked at Apple.
I’m Adam Gordon Bell, and this is CoRecursive.<br>How would you build an operating system? My answer is I wouldn’t.<br>First off, I don’t know how.<br>And the second thing is Googling around, the best estimate seems to be that it took around 2,000 developers to build Windows XP in the 2000s.<br>And that’s just if you can trust random Quora answers.<br>Maybe there was even more people.But actually, it is possible to build an operating system from scratch.<br>I’ve found an existence proof.<br>I’ve found Andreas Kling.<br>He created SerenityOS starting from an empty Git repository.<br>And I’m running it right now, and I’m looking at it.<br>There’s a web browser, and there’s Solitaire.<br>It’s like an alternate world version of the Windows 95 that I grew up using, built from scratch.<br>Really from scratch.<br>It looks totally familiar, but somehow different.So today, I find out how he did it, how this is possible.<br>But mainly today, I find out why.<br>Why build an operating system from scratch? And this answer is about addiction and recovery, and about doing something so big that you can sort of reorient your life around it, and kind of come out the other side as a different person.<br>And it all starts in the 2010s when Andreas worked at Apple.<br>So let’s get into it.
You hear me through your headphones, right?
Mm-hmm (affirmative).
Do you have any questions before we start?
Not really, I guess if my audio is coming through and everything is good on the technical side, then yeah, I’m up for anything.

Waking up really late, partly because it was comfortable, but also because all of my coworkers would wake up in a different time zone anyway.<br>So it all kind of worked out with my morning sleepiness, and then kind of just obsessively working on WebKit and Safari stuff most of the day.<br>Really just sitting at the computer the whole day.<br>I didn’t have a very multifaceted lifestyle back then.<br>It was all work all the time.<br>And when I had a chance to hang out with other people, I would sort of take a break from work by just drinking and doing drugs.<br>Those were the two mode I had.<br>So workaholism or other isms.

So I would just wake up in the morning in San Francisco and get myself to the last Apple commute bus.<br>I was the leaving.<br>I think it was at 10:00 the morning or something like that.<br>Ride it down to Cupertino, spend the day in the office just working on whatever we were doing at the time.<br>Usually some kind of performance optimization stuff or benchmark tracking.<br>And I would almost always stay until the very end of the day.<br>So I would grab the very last commute bus home to San Francisco and then come home at 10:00 PM.It was a fairly intense lifestyle.<br>But at the time, it just seemed like everything I wanted from life.<br>As far as I was concerned, I was living my childhood dream.<br>Right? Because I wanted to be a programmer, and now I was.<br>And I didn’t do anything but, so surely that must be the dream.Obviously I can see now that it was a very single-minded existence, I guess.<br>I guess it felt at times like I was putting everything else in my life on hold and not really advancing on any other axis other than career.<br>But I guess I told myself that I was living the dream, so there was nothing to fulfill.<br>And that’s how I sort of was able to exist in that state for a while.I mean, I loved working there for the years that I did at first.<br>It was just towards the end that I got a bit disillusioned.<br>I certainly enjoyed the technical excellence of the people there and getting to work on such tightly integrated solutions and systems was really cool.

I still feel that nobody really does that better than Apple.<br>They control the whole stack, and they really take advantage of that.<br>Especially lately with putting out their own CPUs and everything now as well.<br>That’s been really awesome.<br>And I enjoyed learning from that environment what is really possible if you control more of the stack.

That was sort of always part of my personality I think.<br>Ever since I was a teenager, I first tried drinking, tried doing drugs.<br>I discovered that I had an endless appetite for them.<br>And when left to my own devices, that’s sort of where I would just naturally drift to.<br>So if there was nothing to keep my attention, I would just end up drinking or end up doing drugs.<br>And I didn’t think too much of it when I was younger because I had this association that it was cool, or that it’s fine, or whatever.<br>Or that it’s not really a problem.<br>I can quit whenever I want, the cliches.<br>And like anybody else, I was totally bought into the cliche of it’s just a casual recreational use, and I can stop whenever.And I think the two things that drove escalation for me was a much larger paycheck after going into big tech, because big tech pays well.<br>And if you have more money, you can buy bigger and more dangerous drugs.<br>And since that was just my natural tendency, that’s something that I started doing.
So what does that mean? Having a drink at lunch, or does that mean keeping cocaine on your desk? I don’t know.
The latter.
Yeah.
Yeah.It was more like that.<br>But there was a time when it was just a drink at lunch as well.<br>So I’ve been through the whole spectrum, but I don’t know if I ever really felt like I was doing anything wrong until I got to the point of no return and realizing that this is an unsustainable problem.<br>But as I was making my way down the train, I never really thought that maybe this isn’t good.<br>It’s very strange how that works.<br>But now of course with the benefit of hindsight, I can see it more clearly.<br>But if you had asked me at the time, I would probably have just insisted that is just a recreational thing.<br>And what’s the big deal?
It almost sounds like you’re keeping things a secret from yourself to a certain extent.
Yeah, for sure.<br>For sure.<br>I think that’s necessary if you are habitually doing things that are hurtful to yourself or to other people.<br>Then the way that you manage sustaining that kind of lifestyle where you habitually hurt people, is that you come up with ways to rationalize it or to turn it into something else, which of course is not true.<br>But you learn to lie to yourself.


I was having an unmanageable problem and I was hurting them.<br>And having to face the fact that I’m not just making a mess of my own life, but it affects others.That was sort of the thing that made me wake up, I guess.<br>Because I think part of what made me able to justify it to myself was that the only one who gets hurt is me.<br>But that’s not really true.<br>That’s never really true, unless you live in complete isolation as a hermit somewhere.<br>You always affect the people around you, but I was kind of oblivious to that until they pointed it out to me.That’s when I really started to see it for the first time, really started thinking critically about it.<br>And it wasn’t easy, and it took a long time to actually unravel.<br>It took a long time to understand how far gone it actually was.
Did you immediately know that you had to change things or were you like, “Maybe a bit less cocaine, and I’ll be all right.”
So I think I had a brief phase of bargaining, I guess, like anybody would.<br>I don’t recall anymore, but it was probably several days where I would just go over the possibilities in my head.<br>Maybe I can just do less, or maybe I can just get better at hiding it, or maybe I can just figure out some way out of this whole thing.<br>But one thing for me was that I had already been hiding these things to the best of my ability.<br>Not just from coworkers, but also from my family.<br>So it was shocking to have this thing that was private suddenly become public, even to my family.<br>I didn’t really know how to deal with that gracefully.<br>So I think I just kind of buckled under the psychological pressure, and I didn’t have the strength to try to come up with a plan to hide it better.

The hospital basically flagged me as a person in trouble.<br>And I live in Sweden.<br>So once you get flagged by the government, then they will stay on your case.<br>They don’t let you slip through the cracks so much.<br>That’s how I ended up in a rehab program.<br>They have a very, very serious social safety net here, and they follow up on stuff.<br>So once that happened, I was sort of in the system, and I knew that now I have to do this.

I was sitting in the hospital, and I had to fill out a form where I consented to drug abuse being a sort of a public entry on my permanent medical record.<br>Because they make you decide do you want your future caregivers to have access to this information?That felt like the real crossroads.Like okay, so now I decide does this become part of my permanent identity, or is this something that I will try to shuffle onto the rug? And I decided then to just make it public.<br>And then I thought all right, well that was easy.<br>And at that point, I decided that the only way that I can do this in a way that I would trust myself would be to make it completely public.So I just told everybody and wanted to sort of make it part of my public identity online as well.<br>But of course that took a bit longer to become comfortable with that idea.

I guess I felt defeated.<br>That is really I guess how all these 12 step programs start where you admit defeat.<br>That is usually the first up that you have to admit defeat, and that you have lost your ability to manage the situation.<br>And that was really how I felt.<br>So I was sort of a perfect candidate for that type of therapy.But that’s not to say that everything was roses.<br>I mean of course now, I remember the good parts.<br>But there were really rough parts as well.<br>And one of the things that we had to do in rehab was to try to share with each other, all the people that were there, we had to share with each other a detailed account of all the things that we had and all the mistakes that we had made, and ways we had hurt people and so on.<br>And that was tough, making an honest accounting of that.<br>And I don’t know if I would make it today.<br>It would probably include more things than I was comfortable admitting to back then.<br>So it’s an incremental process I think.

One of the most helpful aspects of it, which was really hard to reconcile at first, was meeting a whole bunch of people who had done way worse things than I had.<br>And just meeting people who had murdered somebody, people who had been to prison, or people who had done a hit and run or something like that.<br>All kinds of people that you would never think it when you saw them, but they had this horrible things that they had done in the past.<br>And it was all associated with being under the influence.

At first, I felt guilty for sort of looking at them and thinking, “At least I’m not as bad as that person.” Over time, I realized that that’s just sort of a healing mechanism.<br>And it was funny because somebody that I had judged in this way, when I initially met them later, ended up telling me that they were really uncomfortable with me because they felt like I was way worse than they were.<br>They were happy to have met me because I made them feel better about their own misdeeds.<br>It just goes to show that it’s a really big cacophony of just people finding comfort in just hearing about the exploits of other people.<br>And I guess using it to orient themselves around what they really are.Because I think when you do a bunch of nonsense let’s call it, it’s hard to be too judgmental of your own nonsense.<br>But when you see other people doing nonsense, it’s much easier to look at that objectively and say, “Well, that’s not good behavior.” And then when you suddenly encounter a lot of these stories of bad behavior, you start to build almost a sense of morality.<br>Once you have that, it’s much easier to eventually relate your own experiences through that sense of morality.<br>That’s something that we talked a lot about in the rehab program that I went to, how addiction leads to a moral bankruptcy basically.<br>And one of the important things to do in rehab and recovery is to help people build a new sense of morality because you have been taking out loans from their morality bank for too long.<br>And they’re just completely bankrupt, right?

It was really confusing because I was used to waking up at seven and bicycling over to the rehab place.

I was really shocked at first with just how much time there is in a day.<br>Because when you are living in the fast lane so to say, you don’t notice time’s just flying all the time.<br>And normal healthy lifestyle, it’s just a lot of hours in the day.<br>And I really struggled with just coming up with stuff to do.<br>It was a simple existence.I was also trying to get back in touch with family that I had lost contact with a little bit.<br>So I was borrowing handheld video games from my brother for example.<br>And he just gave me this whole bundle of Nintendo DS games.<br>And I found it hard to talk to him because I was so uncomfortable about having had this secret life.<br>But if I could play these games that he lent me, then I could talk to him about those games.<br>And that was sort of a way to start having a conversation again with each other.<br>So I was just going to meetings and then trying to plow through these Nintendo DS games.<br>That was my life at the time.

I had this old PC that I had made for my grandfather back in 2006, I think.<br>And that was the computer I had access to at this house I was staying.<br>So I would wake up and press the power button on that thing, hope it would boot up one more time.<br>And it was really on its last legs.<br>You had to tilt the computer so that the CPU fan would short circuit the motherboard if you tilted it wrong.<br>So you had to tilt it just right.
That’s awesome.
I install an old version of Slackware Linux on that thing, sort of era appropriate.<br>I don’t know, Slackware 11 or whatever from 2006, somewhere thereabouts.<br>And I had this pretty slow machine.<br>And then I guess I would just sit at that computer and write random programs until it was time to go to recovery meetings, and then come back and write more programs.

It was astonishing how much more I could program in a day when I had no distractions.<br>And I was just really clearheaded.<br>And I felt like I was on the precipice of some serious productivity if I just had something to sink it into.<br>That’s sort of when I started tinkering with some of the low level programming projects, which eventually became the Serenity Operating System.<br>But at first, I was really kind of just experimenting with this feeling of being able to program for hours on end and just enjoying programming again, I guess, for the first time in a long time.
I mean, that totally makes sense.<br>But why was the path there, why was building an operating system the therapeutic path to a new you?
Well, I don’t know that I originally saw that.<br>But the thing that made me get into the operating system path in the first place was as a child, I wanted to build my own operating system.<br>When I was 10, 11, 12 at that age.<br>And you can even find old Usenet posts from me as a child asking for help writing like a boot loader when I’m a kid.<br>And totally clueless of course, but-
I don’t know how boot loader works right now.
All right.<br>Well, I guess most people don’t.<br>But yeah, that’s something that I was curious about as a child.<br>And when I came outta rehab, I guess one big thing that I was thinking a lot about was when was the last time that I felt like I was really myself.<br>And I figured it must have been before I got access to alcohol in my life.<br>That was sort of the original Andreas.<br>And to get back to that, I thought okay, well what did I care about before that?And one of the last things I was interested in before is going on this other life path was operating systems.<br>It seemed kind of natural to just give it a go.<br>See okay, what if I tried that again with everything that I’ve learned since then? And I’ve become a capable programmer since then.<br>So what if I just put those skills to use? I have no job.<br>Nobody’s expecting anything from me.<br>I have money to burn for a year.<br>So let’s just go for it and see what happens.<br>And that’s paraphrasing my thought process, but that’s sort of how it happened.It turned out to be very therapeutic.<br>And I think the first thing that made it therapeutic was that it allowed me to actually fill up the entire day with something I found interesting, but seemed well let’s say relatively harmless, right? Compared to what I had been filling my days with for the past decade.<br>There was nobody waiting for me anywhere, which was kind of a luxurious thing, I suppose, when you’re doing something like this.<br>The fact that there’s nobody waiting for you to get back to work.<br>I was just burning through savings at that point.<br>But it seemed like a reasonable thing to do.<br>Certainly in retrospect, I know it was very reasonable.<br>But even at the time, it seemed like if I can get my head in order and maybe build a different type of life, a better life after this, then it doesn’t matter what it costs.<br>I would rather have no money and be completely clearheaded, then have all the money in the world and just be a drugged out zombie for one more day.<br>So that’s what I was doing.

So I rented a summer cabin, which was really cheap because winter was about to start, and moved out to this little summer cabin village.<br>So it was just me in this little cabin, and nobody else was around.
Did it have heat?
It had, what’s it called.<br>I had to burn logs fire.<br>So what is that called? A furnace?
Yeah.<br>Or a stove, a wood stove.
Yeah.<br>Something like that.<br>I had to bring in wood and burn it.
Fireplace?
Fireplace.<br>Yes.<br>It had a fireplace.<br>Thank you.<br>But that was really nice.<br>So then I just rented that cabin and stayed there, just continuing what been doing.<br>But now in a place by myself and just getting back into the groove of having a life where there isn’t somebody who’s watching over me all the time.

In some ways, I recognize that there was a compromise being made here, right? You’re trading one addiction for another.<br>But even the therapist in my rehab program was always telling me that, “If you get addicted to cooking or to hiking, I don’t care.<br>It’s so much better.<br>Go do that.<br>Eventually, you’ll get bored of it and find other things to do.<br>Just don’t get back into the drugs.”So I didn’t worry too much about substituting some really lame addiction.<br>I guess I thought that I’ll just try it for a while as long as it’s fun.<br>Maybe I’ll lose interest and do something else.<br>But turns that I didn’t really lose interest.<br>So it worked out really well.
What were your goals like? Besides just filling out the clock and enjoying this, did you have a direction with your project?
Well, I don’t know that I ever had a real direction with it.<br>But in the beginning, I remember feeling kind of frustrated with finding myself using Linux again and thinking it’s nice to be back on Linux.<br>Everything is snappy.<br>And the developer experience is really great, but I sure do miss having the source code for everything.

And when you’re in that environment, it’s extremely powerful.So the area that I worked on primarily throughout my stay at Apple was web performance stuff.<br>So Safari and WebKit performance, optimizations, performance work.<br>And that type of work usually requires traversing the stack up and down, right?It’s usually not as simple as, “I just have to make this little fix in the WebKit library itself, and everything is faster.” But we’d frequently had to work on stuff like image decoding libraries, and network working libraries, and whatnot.<br>And just the access to all those layers and having the expert of whatever thing you wanted to know about.<br>The expert was always somewhere in the building or in the adjacent building.<br>And that’s an incredibly powerful thing.If you look at open source software systems, there isn’t really anything quite like it in the Linux world for example.<br>People are so distributed.<br>And there are many great advantages to being distributed, but I’ve also seen some really great advantages to being centralized.

I remember so much leaving Apple and still having that feeling of, “I can just go and look in the source code of this thing.” And I was using a MacBook when I left Apple.<br>I remember getting really frustrated when I couldn’t bring up the source code for stuff anymore.<br>Because I had come to take it for granted.<br>Right? I think I had a memory leak in QuickLook or whatever it was.<br>I was previewing something in Finder, and it would just leak memory.<br>And I thought I’m just going to dig into this, see what it is.<br>And I just couldn’t anymore.<br>And now I knew how everybody else felt.That really made me think that it’s silly that I can’t have this feeling about the software that I’m using every day, unless I work at Apple.<br>Because I think it would be cool if everybody could have that feeling about the software they use every day without having to work at Apple.<br>The spirit of taking ownership of the whole stack, Apple doesn’t have a monopoly on that mindset.<br>And it’s definitely something that could be replicated elsewhere.
So that was his goal.<br>Although maybe it was too large to even speak, that he could build something like what Mac OS looked like if you were an Apple developer.<br>Where everything was in one place, and in one style, and easy to change.
I didn’t dare admit it to myself at first because I thought it was almost too grandiose of an idea to try to create an entirely new environment where this exists in open source.<br>I guess I’m a little bit of the belief that if you have a great big idea, the best thing to do is not tell anybody, because it really takes the air out of it.<br>So better to go and try to prototype the idea.<br>And then if something comes out of it, you can show it to people.<br>But at least in my case, whenever I tell people about some idea, I kind of tend to lose interest in the idea.<br>So I just went to work on it instead.
What he’s working on is building an operating system from scratch, literally from scratch starting with a blank file.<br>What many people mean when they talk about operating systems is the kernel, the lowest level part of the operating system, like the Linux kernel.<br>If the software of your computer was a house, the kernel would be like the foundation and maybe the wood framing.<br>Andreas has a much bigger goal in mind though.
As far as I’m concerned, an operating system is all the software that comes with your computer.<br>So macOS is an operating system that comes with a kernel, but also with a web browser, and a text editor, and a note-taking application, and all kinds of stuff.<br>Right? And that’s sort of what I think of as an operating system.<br>Not so much the Linux kernel purist idea that the kernel is the operating system.

Everything is just a piece of code that somebody writes.<br>And if we just make all those pieces of code and stack them up, it’s going to work.<br>I had no illusions about how an operating system looks once it is put together and works.<br>Now I didn’t know how to get there, but I reasoned that if you just start building these components one by one, eventually you’ll have the full stack and it will just gel together.<br>So that’s what I started doing.
How do you learn how to build an operating system?
Well when I started, I had no idea how to do that.<br>So it was a gradual process for me.<br>I always figured that the hardest part would be choosing which abstractions to use.<br>Because once you know what the abstractions are, it’s just a matter of implementing them.So I decided to make it a little bit easy for myself with Serenity to use existing abstractions or well known abstractions like Unix, right? And instead of coming up with an entirely new style of kernel, I just made a classical Unix kernel.<br>Instead of trying to come up with a radical new UI, just used the late ’90s UI.
By late ’90s UI, Andreas specifically means he’s building an operating system that looks like Windows 2000.<br>The Windows 2000 that he used as an 11 year old kid.
Windows 2000 was beautiful.<br>And it knew exactly what it was.<br>And then, everybody got distracted because we had to turn the PC into a gaming machine, into a surfing machine.<br>And it had to become everything.<br>A multimedia entertainment platform.<br>And I had just these positive childhood memories of the really serious office computer.<br>That’s something that I wanted to rebuild I guess.

It’s a modern music genre that takes influence from 1980s synth pop and movie soundtracks like Blade Runner and things like that.<br>And I see this parallel between the genre of synthwave wave and what I’m doing with Serenity in that we are taking all these old ideas, but rebuilding them using modern technology and modern development practices.<br>And it’s so much easier today to build a system that looks and feels like something from the year 2000 than it was back then.<br>Because of course, we have way better stuff today, and we understand much more about software development.Much like with synthwave, it’s so much easier to make a cool synth-pop song today than it was in 1985, because in ‘85 you needed analog synthesizers and all this advanced equipment, right? Or I guess you had digital synthesizers in ‘85, but you had much more crude tools.<br>And in that sense, I think SerenityOS is like synthwave.<br>It’s creating something strongly influenced by the past, but in a modern way, and in a sort of a high fidelity way with 2020 hindsight.

And then when that rental contract ran out, that’s when I made a post on Reddit about, “So I’m moving out of this house, and I just spent the last six months here writing this operating system.<br>And here’s what it looks like.” And had a little demo video of it that I posted on YouTube as well.<br>People were really kind of captivated by the thing I think.<br>Of course looking back now, it’s very simple compared to what it has become.<br>But there was something about it that was really energetic and something new, yet still familiar to everybody.<br>I mean I don’t know.<br>I thought a lot about what is it that makes this so interesting to people? I can never quite figure it out, but people liked it.
One thing I was thinking about is oftentimes, the layers below yourself as a developer seem kind of magical.<br>So for somebody to come along and say, “Here it is.<br>Here’s all of it.” It’s like, “Here, I started at the bottom.” It’s almost like you’re saying, “It’s not magic.<br>Look, here.<br>Did it?”
Yeah.<br>No, that’s true.<br>That’s true.<br>That’s something I heard often from people.<br>It piqued people’s curiosity who wanted to see what a real system might look like, even though it was clearly immature.<br>It was still an approximation of what a mature system might look like.

One of the first things that somebody helped out with was writing a script that would automate the build process.<br>And that was really, really sweet.<br>I was very, very grateful for that.<br>And then since then, it’s just been growing.<br>New people pick this up every week and find something they want to hack on.<br>And I’ve always been welcoming to new people because even if it started as a personal therapy project for me, that doesn’t mean that I don’t want other people to work on it.<br>Right? I’m really happy to share my programming playground with anybody else who wants to write similar type of software.

One of the first videos I put up on YouTube, I had this long struggle trying to print out a number in octal.<br>And it took me a little too long.<br>And I remember just feeling, “This is so embarrassing.<br>Now everybody will see.” And I decided to upload it anyway because I thought, “You know what? This would probably be good for me if I just become okay with people seeing me struggling with something silly.”
It’s interesting because you had a secret life, and then you went to a world of nothing is secret.<br>Was this some sort of conscious decision to be completely out there with this project?
I think so.<br>I even named it after the recovery program I was in.<br>When you go to these 12 step meetings, then you always read the Serenity prayer at the end.<br>The way I was thinking at the time was I need to make something that is so big and beautiful, that I will want to stick around.<br>And I can use that as a tool to keep myself honest.<br>If I just name it something that always recalls where it came from, and I tell everybody where it came from.<br>So I guess I sort of saw it as a chance to build this big monument to my own recovery.<br>And then I could never run away from it.<br>And I would feel like such a hypocrite if I would start using drugs again and working on my Serenity Operating System at the same time.<br>Right? So I sort of get this built-in deterrent from that.
There’s no telling what the future holds, of course.<br>But in rehab, we often talked about how people have this tendency to, if you see an opportunity to build a back door into your life, like an escape hatch for yourself, then if you’re not conscious about those things, then you have a tendency to just build those.<br>So I guess here, I was kind of thinking proactively and trying to build whatever the opposite of a back door is.<br>Maybe build a window into my life instead let’s say.

Unlike most other projects, we are not trying to gain users, or popularity, or anything like that.<br>Each and every person who works on this, they just want to make something for themselves, something beautiful.<br>And I think that gives us almost kind of a purity of purpose that I enjoy.<br>That I always treated it as this is going to take at least 10 years to get anywhere reasonable.<br>And it’s astonishing how much you can do if you take that perspective from the beginning.<br>If you accept that something is going to take a long time, you don’t have to deal with that growing disappointment when you’re not getting to where you want to be immediately.
My very last question is did you recapture this 11 year old version of yourself and that energy that you were looking for?
I think so.<br>I’ve never felt more true to myself than I do lately.<br>I never worry anymore about how I present myself if I’m saying the right thing or if I should try to phrase myself this way or that way.<br>Because I can just speak from the heart, and I know that it comes out how I want it to come out.Most of my life, I was very conscious of everything I would say.<br>And I was always trying to manicure my public persona so that I could obscure how I was living my life.<br>And it is a very good feeling to not do that, and to just sort of speak candidly and honestly about everything and anything.<br>And that’s really how I was like when I was 11.<br>I wasn’t cynical, and I wasn’t trying to hide anything.<br>I was just a kid who loved computers.<br>And I think I became that again.<br>And I’m happy about that.
You can find Andreas on YouTube.<br>Serenity isn’t done, but you can use it.<br>I don’t think it’s the type of project that will ever be complete.<br>If you want to learn how to build an operating system, or systems programming, or modern C++, or just watch hundreds of hours of a calm person working diligently at a project that he thinks might take all his life, you should totally check him out on YouTube.<br>And as you’ve probably gotten a taste of here, his openness and candor speaking about his life is very endearing.<br>So you should check that out.Also, if you want to hear more about his time at Apple and how it was both an amazing experience and a problematic one, and more about the Serenity project and how it can be transformative for people who join, check out the Patreon episode.<br>It’s going to be out on the 15th.<br>Oh yeah.<br>And we didn’t even cover this, but they’re building a full web browser from scratch.<br>I heard someone say that the web standards are so complex right now, that it wouldn’t be possible to build a new web browser.<br>But here, the Serenity team is doing it.<br>And you can watch them.
If you want to hear that and more like it, please support the podcast on Patreon to unlock those episodes.<br>And until next time, thank you so much for listening.
Hello, I make CoRecursive because I love it when someone shares the details behind some project, some bug, or some incident with me.<br>No other podcast was telling stories quite like I wanted to hear.
Right now this is all done by just me and I love doing it, but it's also exhausting.<br>Recommending the show to others and contributing to this patreon are the biggest things you can do to help out.

Whatever you can do to help, I truly appreciate it!
- Adam Gordon Bell
A podcast about building software.</p>
